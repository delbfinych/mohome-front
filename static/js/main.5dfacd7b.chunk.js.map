{"version":3,"sources":["components/_temp-not-available-section/_temp-processing-spinner/index.jsx","components/_temp-not-available-section/index.jsx","pages/home/index.js","pages/home/home.jsx","services/api-service-context.js","components/hoc/with-api-service.jsx","helpers/compose.js","components/forms/modal-create-album-form.jsx","components/forms/confirming-form.jsx","components/modal/index.jsx","components/photo/album-item.jsx","components/drop-area/index.jsx","components/photo/breadcrumbs.jsx","components/photo/album-navigation.jsx","components/photo/photo-editor.jsx","components/photo/photo-item.jsx","components/photo/photo-list.jsx","pages/photo/main-photo-view.jsx","pages/photo/add-photos.jsx","components/spinner/index.jsx","helpers/idle.js","helpers/serialize.js","pages/photo/photo-slider.jsx","pages/photo/photo-album.jsx","pages/photo/edit-photo-album.jsx","pages/photo/single-photo.jsx","pages/video/index.js","pages/video/video.jsx","pages/music/main-music-view.jsx","components/music/playlist-item.jsx","pages/music/music-playlist.jsx","pages/music/edit-music-playlist.jsx","pages/sign-in/sign-in-form.jsx","pages/sign-in/index.jsx","pages/sign-up/sign-up-form.jsx","routes.js","pages/sign-up/index.jsx","components/navbar/left-navbar.jsx","components/navbar/right-navbar.jsx","components/navbar/index.js","components/navbar/navbar.jsx","components/photo/albums-page-wrapper.jsx","components/private-route/index.jsx","app.jsx","index.js","services/mohome-api-service.js","img/photo_placeholder.png","img/brand_blue.png","img/drop_upload.png","img/music_placeholder.svg"],"names":["ProcessingSpinner","className","style","width","height","Home","display","justifyContent","alignItems","fontSize","flexDirection","Component","margin","textAlign","marginBottom","React","createContext","ApiServiceProvider","Provider","ApiServiceConsumer","Consumer","withApiService","mapMethodsToProps","Wrapped","props","apiService","serviceProps","compose","funcs","length","arg","reduce","a","b","ModalCreateAlbumForm","state","title","description","titleValid","onSubmit","e","preventDefault","onCloseModal","onUpdateAlbum","history","createAlbum","trim","setState","name","then","res","push","data","response","albumId","setTimeout","type","this","target","value","submitBtn","htmlFor","id","onChange","rows","onClick","withRouter","ConfirmingForm","onConfirm","body","confirmText","ModalComponent","show","handleClose","handleShow","children","trigger","cloneElement","Fragment","Modal","dialogClassName","centered","onHide","Header","Title","Body","count","preview","backgroundImage","imageType","image","placeholder","stopPropagation","routes","app","photo","albums","edit","relativePath","DropArea","highlight","dropArea","classList","add","unhighlight","remove","handleDrop","files","dataTransfer","Array","from","filter","el","test","onUpload","preventDefaults","document","querySelector","forEach","eventName","addEventListener","console","log","accept","imageUrl","src","alt","multiple","Breadcrumbs","breadCrumbs","map","i","key","text","href","link","AlbumNavigation","_isMounted","rightContent","dropUploadImg","PhotoEditor","isFocused","changePhotoDescription","photoName","forceUpdate","catch","err","prevProps","onFocus","onBlur","size","service","PhotoItem","onOpen","currPhoto","photos","index","slider","modal","currentName","onPhotoDelete","deletePhoto","finally","onDelete","getPhoto","newPhoto","created","nextProps","nextState","isSelecting","onSelect","isEditing","borderRadius","PhotoList","idx","findIndex","item","newPhotos","slice","onPhotoDeleted","photosLinks","PureComponent","MainView","album","albumCovers","isExpanded","onExpandToggle","_updateAlbums","getAlbums","getPhotosByAlbumId","coverPhotoName","newCover","photoCount","upload","main","path","uploadPhoto","AddPhotos","previewPhoto","progressBar","isLoading","toLoading","formData","FormData","append","prevState","fileName","max","position","left","top","transform","Spinner","Idle","timeout","idleCallback","backToActiveCallback","autoStart","backToActiveOnXHR","goIdle","idle","backToActive","clearTimeout","timer","events","init","window","serialize","obj","prefix","p","str","hasOwnProperty","k","v","encodeURIComponent","Number","isInteger","join","PhotoSlider","currentItem","currentIndex","isIdle","_updateSlide","isAllowedClick","handleArrowClick","which","goToPrevSlide","goToNextSlide","newIndex","replace","goBack","location","removeEventListener","snapshot","idleClassName","date","d","Date","toLocaleDateString","toLocaleTimeString","beautifyDate","download","PhotoAlbum","albumInfo","_updateAlbum","getAlbumInfo","albumTitle","to","EditPhotoAlbum","coverPreview","setCoverPreview","changeAlbum","albumName","onAlbumDelete","deleteAlbum","SinglePhoto","photosName","notFound","Video","MainMusicView","playlists","_updatePlaylists","getPlaylists","createPlaylist","MusicPlaylist","music","playlistInfo","getMusicByPlaylistId","getPlaylistInfo","playlistId","musicCount","playlistTitle","EditMusicPlaylist","coverPhoto","changePlaylist","deletePlaylist","onCoverUpload","setPlaylistCover","onCoverDelete","deletePlaylistCover","SignInForm","email","password","authError","errMsg","signIn","PasswordHash","root","status","Math","trunc","message","handleUserInput","disabled","signUp","SignIn","Logo","SignUpForm","username","formErrors","emailValid","passwordValid","usernameValid","usernameClass","passwordClass","emailClass","formValid","isEmailExist","isValidation","validateField","fieldName","validateForm","validateUser","view","MainPhotoView","video","LeftNavBar","isMenuOpened","Menu","activeClassName","exact","RightNavBar","token","Cookies","get","payload","split","JSON","parse","atob","Name","data-toggle","aria-haspopup","aria-expanded","NavBar","AlbumsPageWrapper","PrivateRoute","App","nextContext","action","previousLocation","prevPathName","pathname","lastIndexOf","isModal","render","match","params","prevPath","_apiBase","axios","post","stringify","headers","set","accessToken","expiresIn","refreshToken","_updateToken","Authorization","put","delete","isThumb","thumb","patch","getPhotoCount","now","ReactDOM","component","getElementById","module","exports"],"mappings":"uWAoBeA,G,YAjBW,SAAC,GAAuB,EAArBC,UAC3B,OACE,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,WAAWC,MAAO,CAAEC,MAAO,OAAQC,OAAQ,SACxD,6BACE,8BACA,8BACA,8BACA,8BACA,8BACA,mCCVWC,E,iLAEjB,OACE,yBAAKH,MAAO,CACVI,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZC,SAAU,OACVC,cAAe,WAEf,+DACA,sDACA,kBAAC,EAAD,W,GAZ0BC,aCDnBN,E,iLCSX,OACE,yBAAKJ,UAAU,qCACb,yBAAKC,MARM,CACbU,OAAQ,SACRH,SAAU,OACVI,UAAW,SACXC,aAAc,UAIZ,sBACA,kBAAC,EAAD,W,GAX0BH,a,wCCE9BI,IAAMC,iBAFEC,E,EAAVC,SACUC,E,EAAVC,SCaaC,EAdQ,SAAAC,GAAiB,OAAI,SAAAC,GAC1C,OAAO,SAAAC,GACL,OACE,kBAACL,EAAD,MACG,SAAAM,GACC,IAAMC,EAAeJ,EAAkBG,GAEvC,OAAO,kBAACF,EAAD,iBAAaC,EAAWE,U,MCV1B,SAASC,IAAmB,IAAD,uBAAPC,EAAO,yBAAPA,EAAO,gBACxC,OAAqB,IAAjBA,EAAMC,OACD,SAAAC,GAAG,OAAIA,GAGK,IAAjBF,EAAMC,OACDD,EAAM,GAGRA,EAAMG,QAAO,SAACC,EAAGC,GAAJ,OAAU,kBAAaD,EAAEC,EAAC,WAAD,kB,ICJzCC,E,2MACJC,MAAQ,CACNC,MAAO,GACPC,YAAa,GACbC,YAAY,G,EAGdC,SAAW,SAAAC,GACTA,EAAEC,iBADY,MAEiB,EAAKN,MAA5BC,EAFM,EAENA,MAAOC,EAFD,EAECA,YAFD,EAGgD,EAAKb,MAA3DkB,EAHM,EAGNA,aAAcC,EAHR,EAGQA,cAAeC,EAHvB,EAGuBA,QAASC,EAHhC,EAGgCA,YAC1CT,EAAMU,QACRJ,IACA,EAAKK,SAAS,CACZX,MAAO,KAETS,EAAY,CAAEG,KAAMZ,EAAOC,gBAAeY,MAAK,SAAAC,GAC7CN,EAAQO,KAAR,UAAgBD,EAAIE,KAAKC,SAASC,UAClCX,QAGF,EAAKI,SAAS,CAAET,YAAY,IAAS,WACnCiB,YAAW,WACT,EAAKR,SAAS,CAAET,YAAY,MAC3B,S,wEAIAE,EAAGgB,GACVC,KAAKV,SAAL,eACGS,EAAOhB,EAAEkB,OAAOC,U,+BAIX,IAAD,SACoCF,KAAKtB,MAAxCC,EADD,EACCA,MAAOC,EADR,EACQA,YAAaC,EADrB,EACqBA,WACpBsB,EAAcH,KAAKjC,MAAnBoC,UAER,OACE,0BAAM3D,UAAW,OAAQsC,SAAUkB,KAAKlB,UACtC,yBAAKtC,UAAU,cACb,2BAAO4D,QAAQ,SAAf,SACA,2BACEC,GAAI,QACJ7D,UAAS,uBAAkBqC,EAAa,GAAK,cAC7CyB,SAAU,SAAAvB,GAAC,OAAI,EAAKuB,SAASvB,EAAG,UAChCmB,MAAOvB,EACPoB,KAAM,UAGV,yBAAKvD,UAAU,cACb,2BAAO4D,QAAQ,eAAf,eACA,8BACEG,KAAM,EACNF,GAAI,cACJ7D,UAAS,eACT8D,SAAU,SAAAvB,GAAC,OAAI,EAAKuB,SAASvB,EAAG,gBAChCmB,MAAOtB,KAGX,yBACEnC,MAAO,CACLI,QAAS,OACTC,eAAgB,kBAGlB,4BAAQN,UAAW,SAAUuD,KAAM,UAChCI,GAEH,4BAAQ3D,UAAW,aAAcgE,QAASR,KAAKjC,MAAMkB,cAArD,gB,GArEyB/B,aA8EpBgB,IAAQuC,IAARvC,CAAoBO,GCrDpBiC,EA5BQ,SAAC,GAAoD,IAAlDC,EAAiD,EAAjDA,UAAWC,EAAsC,EAAtCA,KAAMC,EAAgC,EAAhCA,YAAa5B,EAAmB,EAAnBA,aACtD,OACE,6BACG2B,EACD,yBACEnE,MAAO,CACLI,QAAS,OACTC,eAAgB,kBAGlB,4BACE0D,QAAS,WACPG,IACA1B,KAEFzC,UAAW,SACXuD,KAAM,UAELc,GAEH,4BAAQrE,UAAW,aAAcgE,QAASvB,GAA1C,a,SCuBO6B,G,iNAzCbpC,MAAQ,CACNqC,MAAM,G,EAERC,YAAc,WACZ,EAAK1B,SAAS,CAAEyB,MAAM,K,EAGxBE,WAAa,WACX,EAAK3B,SAAS,CAAEyB,MAAM,K,wEAGd,IAAD,EACgCf,KAAKjC,MAApCmD,EADD,EACCA,SAAUvC,EADX,EACWA,MAAOnC,EADlB,EACkBA,UACnB2E,EAAU7D,IAAM8D,aAAaF,EAAS,GAAI,CAC9CV,QAASR,KAAKiB,aAEVL,EAAOtD,IAAM8D,aAAaF,EAAS,GAAI,CAC3CjC,aAAce,KAAKgB,cAErB,OACE,kBAAC,IAAMK,SAAP,KACGF,EACD,kBAACG,EAAA,EAAD,CACEC,gBAAiB/E,EACjBgF,UAAQ,EACRT,KAAMf,KAAKtB,MAAMqC,KACjBU,OAAQzB,KAAKgB,aAEb,kBAACM,EAAA,EAAMI,OAAP,KACE,kBAACJ,EAAA,EAAMK,MAAP,KAAchD,GACd,yBAAK6B,QAASR,KAAKgB,YAAaxE,UAAU,eACxC,uBAAGA,UAAU,sBAGjB,kBAAC8E,EAAA,EAAMM,KAAP,KAAahB,S,GAnCM1D,c,iBCoCduD,eAlCG,SAAC,GAA4C,IAA1C9B,EAAyC,EAAzCA,MAAOkD,EAAkC,EAAlCA,MAAOC,EAA2B,EAA3BA,QAASzB,EAAkB,EAAlBA,GAAIlB,EAAc,EAAdA,QACxC1C,EAAQ,CACZsF,gBAAgB,OAAD,OACbD,EAAO,eAAWA,EAAQE,UAAnB,mBAAuCF,EAAQG,OAAUC,IADnD,MAKjB,OACE,yBAAK1B,QAAS,kBAAMrB,EAAQO,KAAR,UAAgBW,EAAhB,OAAwB7D,UAAU,eACpD,yBACEgE,QAAS,SAAAzB,GACPA,EAAEoD,kBACFhD,EAAQO,KAAR,UAAgBW,EAAhB,YAAsB+B,GAAOC,IAAIC,MAAMC,OAAOC,KAAKC,gBAErDjG,UAAU,gBAEV,uBAAGA,UAAU,oBAEf,yBAAKA,UAAU,SACb,yBACEC,MAAOA,EACPD,UAAS,2CAAsCsF,EAAU,GAAK,0BAE9D,yBAAKtF,UAAS,qBAAgBsF,EAAU,GAAK,yBAC3C,0BAAMnD,MAAOA,EAAOnC,UAAS,eAC1BmC,GAEH,0BAAMnC,UAAW,eAAgBqF,UC+D9Ba,G,iNA5FbC,UAAY,SAAA5D,GACV,EAAK6D,SAASC,UAAUC,IAAI,c,EAE9BC,YAAc,WACZ,EAAKH,SAASC,UAAUG,OAAO,c,EAEjCC,WAAa,SAAAlE,GACX,IACImE,EADKnE,EAAEoE,aACID,MACXA,EAAM9E,SAER8E,GADAA,EAAQE,MAAMC,KAAKH,IACLI,QAAO,SAAAC,GAAE,MAAI,aAAaC,KAAKD,EAAGxD,SAChD,EAAKhC,MAAM0F,SAASP,K,EAGxBQ,gBAAkB,SAAA3E,GAChBA,EAAEC,iBACFD,EAAEoD,mB,EAGJsB,SAAW,SAAA1E,GACT,IAAImE,EAAQnE,EAAEkB,OAAOiD,MACjBA,EAAM9E,SAER8E,GADAA,EAAQE,MAAMC,KAAKH,IACLI,QAAO,SAAAC,GAAE,MAAI,aAAaC,KAAKD,EAAGxD,SAChD,EAAKhC,MAAM0F,SAASP,K,mFAIH,IAAD,OAClBlD,KAAK4C,SAAWe,SAASC,cAAc,mBACvC,CAAC,YAAa,WAAY,QAAQC,SAAQ,SAAAC,GACxCH,SAASI,iBACPD,GACA,SAAA/E,GACE,EAAK2E,gBAAgB3E,MAEvB,MAGJ,CAAC,YAAa,YAAY8E,SAAQ,SAAAC,GAChCH,SAASI,iBACPD,GACA,WACE,EAAKnB,eAEP,MAGJ,CAAC,QAAQkB,SAAQ,SAAAC,GACfH,SAASI,iBACPD,GACA,WACEE,QAAQC,IAAIH,GACZ,EAAKf,iBAEP,MAGJ/C,KAAK4C,SAASmB,iBACZ,QACA,SAAAhF,GACE,EAAKkE,WAAWlE,MAElB,K,+BAIM,IAAD,SACiCiB,KAAKjC,MAArCsC,EADD,EACCA,GAAI1B,EADL,EACKA,MAAOuF,EADZ,EACYA,OAAQC,EADpB,EACoBA,SAC3B,OACE,yBAAK3H,UAAU,kBACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,WACb,yBAAK4H,IAAKD,EAAUE,IAAI,KACxB,8BAAO1F,IAET,2BACE0B,GAAIA,EACJH,MAAO,GACPoE,UAAQ,EACRhE,SAAU,SAAAvB,GAAC,OAAI,EAAK0E,SAAS1E,IAC7BmF,OAAQA,EACR1H,UAAW,sBACXuD,KAAK,e,GArFM7C,cC0BRqH,EA1BK,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,YACrB,OACE,yBAAKhI,UAAW,eACbgI,EAAYC,KAAI,SAAC1F,EAAG2F,GACnB,OAAIA,IAAMF,EAAYpG,OAAS,EAE3B,kBAAC,IAAMiD,SAAP,CAAgBsD,IAAK5F,EAAE6F,MACrB,yBAAKpI,UAAU,SACb,uBAAGqI,KAAM9F,EAAE+F,MAAO/F,EAAE6F,OAEtB,yBAAKpI,UAAW,aACd,uBAAGA,UAAU,8BAMnB,kBAAC,IAAM6E,SAAP,CAAgBsD,IAAK5F,EAAE6F,MACrB,yBAAKpI,UAAW,SAAUuC,EAAE6F,Y,iBCZlCG,E,2MACJC,YAAa,E,mFAGXhF,KAAKgF,YAAa,I,6CAIlBhF,KAAKgF,YAAa,I,+BAGV,IAAD,EACyChF,KAAKjC,MAA7CkH,EADD,EACCA,aAAcT,EADf,EACeA,YAAaf,EAD5B,EAC4BA,SAEnC,OACE,yBAAKjH,UAAU,8BACb,kBAAC,EAAD,CACE6D,GAAI,WACJ1B,MAAO,gBACPwF,SAAUe,IACVzB,SAAUA,EACVS,OAAQ,YAGV,yBAAK1H,UAAU,mBACb,kBAAC,EAAD,CAAagI,YAAaA,KAE5B,yBAAKhI,UAAU,oBAAoByI,Q,GA3Bb/H,aAiCfuD,cAAWsE,G,QCtCpBI,E,2MACJzG,MAAQ,CACNE,YAAa,GACbwG,WAAW,G,EAab9E,SAAW,SAAAvB,GAET,GADAA,EAAEC,mBACED,EAAEkB,OAAOC,MAAM9B,OAAS,KAA5B,CACA,EAAKkB,SAAS,CAAEV,YAAaG,EAAEkB,OAAOC,QAHxB,MAIgC,EAAKnC,OACnDsH,EALc,EAINA,wBAJM,EAIkBC,UACE,CAAE1G,YAAaG,EAAEkB,OAAOC,QACvDV,MAAK,SAAAC,GACJ,EAAK8F,iBAENC,OAAM,SAAAC,GAAG,OAAIzB,QAAQC,IAAIwB,EAAI7F,e,mFAnBb,IACXhB,EAAgBoB,KAAKjC,MAArBa,YACJA,GAAaoB,KAAKV,SAAS,CAAEV,kB,yCAGhB8G,GAAY,IACrB9G,EAAgBoB,KAAKjC,MAArBa,YACJA,GAAe8G,EAAU9G,aAAaoB,KAAKV,SAAS,CAAEV,kB,+BAelD,IAAD,SAC4BoB,KAAKtB,MAAhCE,EADD,EACCA,YAAawG,EADd,EACcA,UAErB,OACE,kBAAC,IAAM/D,SAAP,KACE,2BACEsE,QAAS,kBAAM,EAAKrG,SAAS,CAAE8F,WAAW,KAC1CQ,OAAQ,kBAAM,EAAKtG,SAAS,CAAE8F,WAAW,KACzC5I,UAAWwD,KAAKjC,MAAMvB,UACtB8D,SAAUN,KAAKM,SACfP,KAAK,OACLG,MAAOtB,EACPsD,YAAa,uBACb2D,KAAMjH,EAAYR,SAEnBgH,EACC,yBAAK3I,MAAO,CAAEW,UAAW,WAAzB,UAAyCwB,EAAYR,OAArD,oBACE,U,GA7CclB,aAyDXU,KANU,SAAAkI,GACvB,MAAO,CACLT,uBAAwBS,EAAQT,0BAIrBzH,CAAiCuH,GCnD1CY,E,2MACJrH,MAAQ,CACN4D,MAAO,I,EAET0C,YAAa,E,EA4BbgB,OAAS,SAACC,EAAWC,EAAQC,EAAOtG,GACd,EAAK9B,MAAjBoB,QAEAO,KAAR,UAAgB0C,GAAOC,IAAIC,MAAM8D,OAAO3D,aAAxC,YAAwDwD,EAAU1G,MAAQ,CACxE8G,OAAO,EACPC,YAAaL,EAAU1G,KACvB4G,QACAtG,a,EAIJ0G,cAAgB,SAAAhH,IAGdiH,EAFwB,EAAKzI,MAArByI,aAEIjH,GACTC,OACAgG,QACAiB,SAAQ,kBAAM,EAAK1I,MAAM2I,SAASnH,O,mFA3ClB,IAAD,OAClBS,KAAKgF,YAAa,EADA,MAEUhF,KAAKjC,MAAzB4I,EAFU,EAEVA,SAAUrE,EAFA,EAEAA,MAEdtC,KAAKgF,YAAYhF,KAAKV,SAAS,CAAEgD,UAErCqE,EAASrE,EAAM/C,MAAM,GAAMC,MAAK,SAAAC,GAC9B,IAAMwC,EAAQxC,EAAIE,KAAKC,SACjBgH,EAAW,CACf3E,MAAM,QAAD,OAAUA,EAAMD,UAAhB,mBAAoCC,EAAMA,OAC/C1C,KAAM+C,EAAM/C,KACZsH,QAAS5E,EAAM4E,QACfjI,YAAaqD,EAAMrD,aAEjB,EAAKoG,YAAY,EAAK1F,SAAS,CAAEgD,MAAOsE,OAC3CpB,OAAM,SAACC,GAAD,OAAOzB,QAAQC,IAAIwB,Q,6CAG5BzF,KAAKgF,YAAa,I,4CAIE8B,EAAWC,GAC/B,OAAO/G,KAAKtB,MAAM4D,QAAUyE,EAAUzE,Q,+BAsB9B,IAAD,SASHtC,KAAKjC,MAPPmI,EAFK,EAELA,OACAC,EAHK,EAGLA,MACAa,EAJK,EAILA,YACAC,EALK,EAKLA,SACAhI,EANK,EAMLA,aACAiI,EAPK,EAOLA,UACArH,EARK,EAQLA,QARK,EAW8BG,KAAKtB,MAAM4D,MAAxCL,EAXD,EAWCA,MAAO1C,EAXR,EAWQA,KAAMX,EAXd,EAWcA,YAEfnC,EAAQ,CACZsF,gBAAgB,OAAD,OAASE,EAAT,KACfkF,aAAa,GAAD,OAAMD,EAAgC,cAApB,kBAAlB,MAGd,OACE,yBAAK1K,UAAU,eACZwK,EAAc,KACb,kBAAC,EAAD,CAAOrI,MAAO,gBACZ,yBAAKnC,UAAW,gBACd,uBAAGA,UAAU,qBAEf,kBAAC,EAAD,CACEoE,KAAM,0EACNC,YAAa,eACbF,UAAW,kBAAM,EAAK4F,cAAchH,OAK1C,yBAAK/C,UAAU,SACb,yBACEgE,QAAS,WACHwG,GACFC,EAAS1H,GACTN,KAEA,EAAK+G,OAAO,EAAKtH,MAAM4D,MAAO4D,EAAQC,EAAOtG,IAGjDrD,UAAS,kCACTC,MAAOA,KAGVyK,EACC,kBAAC,EAAD,CACE1K,UAAW,mBACXoC,YAAaA,EACb0G,UAAW/F,IAEX,U,GAxGYrC,aAoHTgB,IACbN,GAPuB,SAAAkI,GACvB,MAAO,CACLa,SAAUb,EAAQa,SAClBH,YAAaV,EAAQU,gBAKvB/F,IAFavC,CAGb6H,GC5HIqB,E,2MACJ1I,MAAQ,CACNwH,OAAQ,I,EAGVlB,YAAa,E,EAmBbuB,cAAgB,SAAAhH,GACd,IAAM8H,EAAM,EAAK3I,MAAMwH,OAAOoB,WAAU,SAAAC,GAAI,OAAIA,EAAKhI,OAASA,KACxDiI,EAAS,sBACT,EAAK9I,MAAMwH,OAAOuB,MAAM,EAAGJ,IADlB,YAET,EAAK3I,MAAMwH,OAAOuB,MAAMJ,EAAM,KAEpC,EAAK/H,SAAS,CAAE4G,OAAQsB,IACpB,EAAKzJ,MAAM2J,gBAAgB,EAAK3J,MAAM2J,kB,mFAvB1C1H,KAAKgF,YAAa,EADA,IAEVkB,EAAWlG,KAAKjC,MAAhBmI,OACJA,GAAQlG,KAAKV,SAAS,CAAE4G,a,6CAI5BlG,KAAKgF,YAAa,I,yCAGDU,GAAY,IACrBQ,EAAWlG,KAAKjC,MAAhBmI,OACJR,EAAUQ,OAAO9H,SAAW8H,EAAO9H,QACjC8H,GAAQlG,KAAKV,SAAS,CAAE4G,a,+BActB,IAAD,SAQHlG,KAAKjC,MARF,IAELmJ,iBAFK,aAGLF,mBAHK,SAILC,EAJK,EAILA,SACAhI,EALK,EAKLA,aACQ0I,EANH,EAMLzB,OACArG,EAPK,EAOLA,QAEMqG,GAAWlG,KAAKtB,MAAMwH,OAAO9H,OAAS,EAAI4B,KAAKtB,MAAQsB,KAAKjC,OAA5DmI,OACR,OACE,yBAAK1J,UAAU,oBACb,yBAAKA,UAAU,gBACZ0J,EAAO9H,OAAS,EACf,yBAAK5B,UAAW,aACd,yBAAKA,UAAW,OACb0J,EAAOzB,KAAI,SAAC1F,EAAG2F,GAAJ,OACV,kBAAC,IAAMrD,SAAP,CAAgBsD,IAAK5F,EAAEQ,MACrB,kBAAC,EAAD,CACEN,aAAcA,EACd+H,YAAaA,EACbC,SAAUA,EACVd,MAAOzB,EACPpC,MAAOvD,EACPmH,OAAQyB,EACRT,UAAWA,EACXR,SAAU,EAAKH,cACf1G,QAASA,UAOnB,yBAAKrD,UAAW,aACd,yBAAKA,UAAW,OACd,yBAAKA,UAAW,2BACd,yBAAKA,UAAU,SACb,yBAAKA,UAAW,kBAAhB,mC,GAxEIc,IAAMsK,eA0FfhK,KANU,SAAAkI,GACvB,MAAO,CACLa,SAAUb,EAAQa,YAIP/I,CAAiCwJ,G,mkBCnF1CS,E,2MACJnJ,MAAQ,CACNoJ,MAAO,GACP5B,OAAQ,GACR6B,YAAa,GACbC,YAAY,G,EAGdhD,YAAa,E,EAEbiD,eAAiB,WACf,EAAK3I,UAAS,SAAAZ,GACZ,MAAO,CAAEsJ,YAAatJ,EAAMsJ,gB,EAYhCE,cAAgB,WAAO,IAAD,EACgC,EAAKnK,MAAjDoK,EADY,EACZA,UAAWxB,EADC,EACDA,SAAUyB,EADT,EACSA,mBAE7BD,IAAY3I,MAAK,SAAAC,GACX,EAAKuF,YAAY,EAAK1F,SAAS,CAAEwI,MAAOrI,EAAIE,KAAKC,WAGrD,IAFA,IAAM2C,EAAS,EAAK7D,MAAMoJ,MAFJ,WAIbpD,GACP,GAAInC,EAAOmC,GAAG2D,eACZ1B,EAASpE,EAAOmC,GAAG2D,gBAAgB,GAChC7I,MAAK,SAAAC,GACJ,IAAM6I,EAAQ,KAAQ,EAAK5J,MAAMqJ,aACjCO,EAAS/F,EAAOmC,GAAG7E,SAAWJ,EAAIE,KAAKC,SACnC,EAAKoF,YAAY,EAAK1F,SAAS,CAAEyI,YAAaO,OAEnD9C,OAAM,SAAAC,GAAG,OAAIzB,QAAQC,IAAIwB,UACzB,CACH,IAAM6C,EAAQ,KAAQ,EAAK5J,MAAMqJ,aACjCO,EAAS/F,EAAOmC,GAAG7E,SAAW,KAC1B,EAAKmF,YAAY,EAAK1F,SAAS,CAAEyI,YAAaO,MAZ7C5D,EAAI,EAAGA,EAAInC,EAAOnE,OAAQsG,IAAnC,EAASA,MAeX0D,EAAmB,KAAM,GACtB5I,MAAK,SAAAC,GACA,EAAKuF,YACP,EAAK1F,SAAS,CACZiJ,WAAY9I,EAAIE,KAAKC,SAASxB,OAC9B8H,OAAQzG,EAAIE,KAAKC,cAGtB4F,OAAM,SAAAC,GAAG,OAAIzB,QAAQC,IAAIwB,O,EAG9BhC,S,uCAAW,WAAMP,GAAN,SAAA3E,EAAA,sDACW,EAAKR,MAAjBoB,QAEAO,KAAK0C,GAAOC,IAAIC,MAAMkG,OAAO/F,aAAc,CACjDS,QACAsB,YAAa,CACX,CACEI,KAAK,YACLE,KAAM1C,GAAOC,IAAIC,MAAMmG,KAAKC,MAE9B,CACE9D,KAAM,iBAXH,2C,yIAxCT5E,KAAKkI,gBACLlI,KAAKgF,YAAa,I,6CAGlBhF,KAAKgF,YAAa,I,+BAqDV,IAAD,EACwDhF,KAAKtB,MAA5DoJ,EADD,EACCA,MAAOE,EADR,EACQA,WAAY9B,EADpB,EACoBA,OAAQqC,EAD5B,EAC4BA,WAAYR,EADxC,EACwCA,YACzCvD,EAAc,CAClB,CACEI,KAAK,aAAD,OAAekD,EAAM1J,QACzB0G,KAAM1C,GAAOC,IAAIC,MAAMmG,KAAKC,OAIhC,OACE,6BACE,kBAAC,EAAD,CACEjF,SAAUzD,KAAKyD,SACfe,YAAaA,EACbS,aACE,kBAAC,IAAM5D,SAAP,KACE,kBAAC,EAAD,CAAO1C,MAAO,aACZ,yBAAKnC,UAAU,oBACb,uBAAGA,UAAU,iDADf,cAGA,kBAAC,EAAD,CACE2D,UAAW,eACXf,YAAaY,KAAKjC,MAAMqB,YACxBF,cAAec,KAAKkI,iBAGxB,yBAAK1L,UAAU,qBACb,uBAAGA,UAAU,oCADf,cAEE,2BAAOA,UAAW,YAAa4D,QAAS,iBAKhD,yBAAK5D,UAAU,oBACb,yBAAKA,UAAS,uBAAkBsL,EAAM1J,OAAS,EAAI,mBAAqB,KACrE0J,EAAM1J,OAAS,EACd,yBAAK5B,UAAU,aACb,yBAAKA,UAAU,OACZsL,EAAML,MAAM,EAAG,GAAGhD,KAAI,SAAC1F,EAAG2F,GAAJ,OACrB,kBAAC,EAAD,CACEC,IAAK5F,EAAEc,QACPlB,MAAOI,EAAEQ,KACTuC,QAASiG,EAAYhJ,EAAEc,SACvBQ,GAAItB,EAAEc,QACNgC,MAAO9C,EAAEwJ,WACT3J,YAAaG,EAAEH,iBAGlBoJ,EACGF,EACGL,MAAM,GACNhD,KAAI,SAAC1F,EAAG2F,GAAJ,OACH,kBAAC,EAAD,CACEC,IAAK5F,EAAEc,QACPlB,MAAOI,EAAEQ,KACTuC,QAASiG,EAAYhJ,EAAEc,SACvBQ,GAAItB,EAAEc,QACNgC,MAAO9C,EAAEwJ,WACT3J,YAAaG,EAAEH,iBAGrB,OAIR,yBAAKpC,UAAW,aACd,yBAAKA,UAAW,OACd,yBAAKA,UAAW,2BACd,yBAAKA,UAAU,WAEjB,yBAAKA,UAAW,kBAAhB,4BAKPsL,EAAM1J,OAAS,EACd,yBACEoC,QAASR,KAAKiI,eACdtJ,MAAOqJ,EAAa,OAAS,SAC7BxL,UAAU,oBAEV,0BAAMA,UAAW,eACdwL,EAAa,0CAAuB,4CAGvC,MAGN,yBAAKxL,UAAU,kBACb,yBAAKA,UAAU,mBAAf,aAA4C+L,IAE9C,kBAAC,EAAD,CAAWb,eAAgB1H,KAAKkI,cAAehC,OAAQA,S,GArKxChJ,aAsLRU,KAXU,SAAAkI,GACvB,MAAO,CACLqC,UAAWrC,EAAQqC,UACnB/I,YAAa0G,EAAQ1G,YACrBuH,SAAUb,EAAQa,SAClBgC,YAAa7C,EAAQ6C,YACrBP,mBAAoBtC,EAAQsC,mBAC5B5B,YAAaV,EAAQU,eAIV5I,CAAiCiK,GC3L1Ce,E,2MACJlK,MAAQ,CACNmK,aAAc,GACd3C,OAAQ,GACR4C,YAAa,EACbC,WAAW,EACXC,UAAW,G,EAGbhE,YAAa,E,EAYbvB,S,uCAAW,WAAMP,GAAN,uBAAA3E,EAAA,wDACwB,EAAKR,MAA9B8B,EADC,EACDA,QAAS8I,EADR,EACQA,YACb,EAAK3D,YACP,EAAK1F,SAAS,CACZwJ,YAAa,EACbC,WAAW,EACXC,UAAW9F,EAAM9E,SAEZsG,EAAI,EARJ,YAQOA,EAAIxB,EAAM9E,QARjB,wBASD6K,EAAW,IAAIC,UACZC,OAAO,QAASjG,EAAMwB,IAC3B7E,GAASoJ,EAASE,OAAO,UAAWtJ,GAXjC,SAaD8I,EAAYM,GACfzJ,MAAK,SAAAC,GACA,EAAKuF,YACP,EAAK1F,UAAS,SAAA8J,GACZ,MAAO,CACLN,YAAaM,EAAUN,YAAc,EACrCC,UAAWK,EAAUN,YAAc,IAAMM,EAAUJ,UACnD9C,OAAO,GAAD,mBAAMkD,EAAUlD,QAAhB,CAAwB,CAAE3G,KAAME,EAAIE,KAAKC,SAASyJ,mBAI/D7D,OAAM,SAAAC,GAAG,OAAIzB,QAAQC,IAAIwB,EAAI7F,aAxBzB,OAQyB8E,IARzB,2D,yIATT1E,KAAKgF,YAAa,EADA,IAEV9B,EAAUlD,KAAKjC,MAAfmF,MACJA,GAAOlD,KAAKyD,SAASP,K,6CAIzBlD,KAAKgF,YAAa,I,+BA+BV,IAAD,EACuChF,KAAKtB,MAA3CqK,EADD,EACCA,UAAWD,EADZ,EACYA,YAAaE,EADzB,EACyBA,UAEhC,OACE,6BACE,kBAAC,EAAD,CACE/D,aACG8D,EAMC,yBAAKvM,UAAU,qBACb,8BAAU0D,MAAO4I,EAAaQ,IAAKN,IACnC,yBACEvM,MAAO,CACLW,UAAW,SACXmM,SAAU,WACV7M,MAAO,OACP8M,KAAM,MACNC,IAAK,MACLC,UAAW,uBAPf,UASKZ,EATL,eASuBE,EATvB,aAPF,yBAAKxM,UAAU,qBACb,uBAAGA,UAAU,oCADf,cAEE,2BAAO4D,QAAS,cAkBtBqD,SAAUzD,KAAKyD,SACfe,YAAaxE,KAAKjC,MAAMyG,cAE1B,kBAAC,EAAD,CAAW0C,WAAS,EAAChB,OAAQlG,KAAKtB,MAAMwH,c,GAhFxBhJ,aA4FTU,MANU,SAAAkI,GACvB,MAAO,CACL6C,YAAa7C,EAAQ6C,eAIV/K,CAAiCgL,GCrFjCe,I,OAVC,SAAC,GAAwB,IAAD,IAArBnN,iBAAqB,MAAT,GAAS,EACtC,OACE,yBAAKA,UAAS,UAAKA,EAAL,sBACZ,yBAAKC,MAAO,CAAEC,MAAO,OAAQC,OAAQ,QAAUH,UAAU,eACvD,kCCPaoN,G,WACnB,aAMG,IAAD,OALAC,EAKA,uDALU,EACVC,EAIA,uDAJe,KACfC,EAGA,uDAHuB,KACvBC,IAEA,yDADAC,EACA,iFA+BFC,OAAS,WACP,EAAKC,MAAO,EACN,EAAKL,cACT,EAAKA,aAAa,EAAKD,UAlCzB,KAsCFO,aAAe,WACT,EAAKD,MACP,EAAKJ,uBAEP,EAAKI,MAAO,EACZE,aAAa,EAAKC,OAClB,EAAKA,MAAQxK,WAAW,EAAKoK,OAAuB,IAAf,EAAKL,UA3C1C7J,KAAK6J,QAAUA,EACf7J,KAAK8J,aAAeA,EACpB9J,KAAK+J,qBAAuBA,EAC5B/J,KAAKgK,UAAYA,EACjBhK,KAAKiK,kBAAoBA,EACzBjK,KAAKmK,MAAO,EACZnK,KAAKsK,MAAQ,KACbtK,KAAKuK,OAAS,CACZ,SACA,YACA,YACA,WACA,SACA,cAEFvK,KAAKwK,O,mDAGC,IAAD,OACDxK,KAAKiK,mBACPjK,KAAKuK,OAAO7K,KAAK,QAEnBM,KAAKuK,OAAO1G,SAAQ,SAAAtE,GAClBkL,OAAO1G,iBAAiBxE,EAAM,EAAK6K,cAAc,MAE/CpK,KAAKgK,WACPhK,KAAKoK,mB,KCbIM,GArBG,SAAZA,EAAqBC,EAAKC,GAC9B,IACIC,EADAC,EAAM,GAGV,IAAKD,KAAKF,EACR,GAAIA,EAAII,eAAeF,GAAI,CACzB,IAAIG,EAAIJ,EAASA,EAAS,IAAMC,EAAI,IAAMA,EACtCI,EAAIN,EAAIE,GAEZC,EAAIpL,KACI,OAANuL,GAA2B,kBAANA,EACjBP,EAAUO,EAAGD,GACbE,mBAAmBF,GACjB,KACCG,OAAOC,UAAUH,GAAKC,mBAAmBD,GAAK,KAI3D,OAAOH,EAAIO,KAAK,MCRZC,I,kNACJ5M,MAAQ,CACNwH,OAAQ,GACRqF,YAAa,GACbC,aAAc,EACdlF,YAAa,GACbyC,WAAW,EACXlJ,QAAS,KACT4L,QAAQ,G,EAiDVC,aAAe,WAAO,IACZ/E,EAAa,EAAK5I,MAAlB4I,SACAL,EAAgB,EAAK5H,MAArB4H,YACR,EAAKhH,SAAS,CAAEyJ,WAAW,IAC3BpC,EAASL,GACN9G,MAAK,SAAAC,GACJ,EAAKH,SAAS,CACZiM,YAAa9L,EAAIE,KAAKC,SACtB+L,gBAAgB,OAGnBnG,OAAM,SAAAC,GAAG,OAAIzB,QAAQC,IAAIwB,MACzBgB,SAAQ,kBAAM,EAAKnH,SAAS,CAAEyJ,WAAW,Q,EAG9C6C,iBAAmB,SAAA7M,GACD,KAAZA,EAAE8M,MAAc,EAAKC,gBACJ,KAAZ/M,EAAE8M,OAAc,EAAKE,iB,EAGhCD,cAAgB,WACd,GAAI,EAAKpN,MAAMiN,eAAgB,CAAC,IAAD,EACI,EAAKjN,MAA9B8M,EADqB,EACrBA,aAActF,EADO,EACPA,OAClB8F,EAAWR,EAEM,IAAjBA,EAAoBQ,EAAW9F,EAAO9H,OAAS,EAC9C4N,IACL,EAAK1M,UAAS,WACZ,MAAO,CAAEqM,gBAAgB,MAE3B,EAAK5N,MAAMoB,QAAQ8M,QAAnB,UAA8B/F,EAAO8F,GAAUzM,MAAQ,CACrD8G,OAAO,EACPH,SACAC,MAAO6F,EACP1F,YAAaJ,EAAO8F,GAAUzM,S,EAKpCwM,cAAgB,WACd,GAAI,EAAKrN,MAAMiN,eAAgB,CAAC,IAAD,EACI,EAAKjN,MAA9B8M,EADqB,EACrBA,aAActF,EADO,EACPA,OAClB8F,EAAWR,EAEXA,IAAiBtF,EAAO9H,OAAS,EAAG4N,EAAW,EAC9CA,IAEL,EAAK1M,UAAS,WACZ,MAAO,CAAEqM,gBAAgB,MAE3B,EAAK5N,MAAMoB,QAAQ8M,QAAnB,UAA8B/F,EAAO8F,GAAUzM,MAAQ,CACrD8G,OAAO,EACPH,SACAC,MAAO6F,EACP1F,YAAaJ,EAAO8F,GAAUzM,S,EAKpCgH,cAAgB,SAAAhH,GAAS,IAAD,EACW,EAAKxB,MAA9ByI,EADc,EACdA,YAAarH,EADC,EACDA,QACrBqH,EAAYjH,GACTC,MAAK,WACJL,EAAQ+M,YAET1G,OAAM,SAAAC,GAAG,OAAIzB,QAAQC,IAAIwB,O,mFA/GT,IAAD,SACsBzF,KAAKjC,MAAMoO,SAASzN,MAApD4H,EADU,EACVA,YAAaH,EADH,EACGA,MAAOtG,EADV,EACUA,QAC5BG,KAAKV,SACH,CACEkM,aAAcrF,EACdG,cACAzG,WAJJ,sBAME,sBAAAtB,EAAA,sEACQ,EAAKR,MACRqK,mBAAmB,CAAEvI,SAAUA,IAC/BL,MAAK,SAAAC,GACJ,EAAKH,SAAS,CACZiJ,WAAY9I,EAAIE,KAAKC,SAASxB,OAC9B8H,OAAQzG,EAAIE,KAAKC,cAGpB4F,OAAM,SAAAC,GAAG,OAAIzB,QAAQC,IAAIwB,MAT9B,OAUE,EAAKiG,eAVP,4CAaF1L,KAAKmK,KAAO,IAAIP,GACd,GACA,kBAAM,EAAKtK,SAAS,CAAEmM,QAAQ,OAC9B,kBAAM,EAAKnM,SAAS,CAAEmM,QAAQ,OAEhChB,OAAO1G,iBAAiB,QAAS/D,KAAK4L,oB,6CAItCnB,OAAO2B,oBAAoB,QAASpM,KAAK4L,oB,yCAGxBlG,EAAW0D,EAAWiD,GAAW,IAAD,EACVrM,KAAKjC,MAAMoO,SAASzN,MAAnDwH,EADyC,EACzCA,OAAQI,EADiC,EACjCA,YAAaH,EADoB,EACpBA,MACzBG,IAAgBZ,EAAUyG,SAASzN,MAAM4H,aAC3CtG,KAAKV,UAAS,WACZ,MAAO,CACL4G,SACAsF,aAAcrF,EACdG,iBAEDtG,KAAK0L,gB,+BAwEF,IAAD,OACCvM,EAAYa,KAAKjC,MAAjBoB,QADD,EAUHa,KAAKtB,MAPP8M,EAHK,EAGLA,aACAtF,EAJK,EAILA,OACAqF,EALK,EAKLA,YACAxC,EANK,EAMLA,UACA4C,EAPK,EAOLA,eACArF,EARK,EAQLA,YACAmF,EATK,EASLA,OAEI7M,EAAc2M,EAAY3M,aAAe,GACzCiI,EAAU0E,EAAcA,EAAY1E,QAAU,KAC9CtH,EAAO2G,EAAO9H,OAAS8H,EAAOsF,GAAcjM,KAAO,KACnD+M,EAAgBb,EAAS,OAAS,GACxC,OACE,yBAAKjP,UAAS,yBAAoBiP,EAAS,WAAa,KACtD,yBAAKjL,QAASrB,EAAQ+M,OAAQ1P,UAAU,mBACxC,yBACEA,UAAS,0CAAqC8P,GAC9C9L,QAAS,kBAAM,EAAKsL,kBAEpB,uBAAGtP,UAAU,4BAEf,yBACEA,UAAS,2CAAsC8P,GAC/C9L,QAASR,KAAK+L,eAEd,uBAAGvP,UAAU,6BAEf,4BACEA,UAAS,wBAAmB8P,GAC5B9L,QAASrB,EAAQ+M,QAEjB,uBAAG1P,UAAW,qBAEfuM,EACC,kBAAC,GAAD,CAASvM,UAAW,WAEpB,yBACEA,UAAW,SACX4H,IACEmH,EAAW,eACCA,EAAYvJ,UADb,mBACiCuJ,EAAYtJ,OACpD,KAENoC,IAAI,KAIPsH,GACC,yBAAKnP,UAAS,oCAA+B8P,IAC3C,kBAAC,EAAD,CACE9P,UAAW,mBACX8I,UAAW/F,EACXX,YAAaA,KAKlBiI,EACC,yBAAKrK,UAAS,gCAA2B8P,IAoCnD,SAAsBC,GACpB,IAAMC,EAAI,IAAIC,KAAKF,GACnB,MAAM,GAAN,OAAUC,EAAEE,qBAAZ,eAAuCF,EAAEG,sBArC9BC,CAAa/F,IAEd,KACJ,yBACErK,UAAS,qCAAgC8P,IAD3C,gBAEWd,EAAe,EAF1B,eAEkCtF,EAAO9H,SACzC,yBAAK5B,UAAU,YACb,4BACEuD,KAAK,SACLvD,UAAS,+BAA0B8P,IAEnC,uBAAG9P,UAAU,yBAEf,yBAAKA,UAAU,2BACb,kBAAC,EAAD,CAAOmC,MAAO,gBACZ,yBAAKnC,UAAU,qCAAf,UACA,kBAAC,EAAD,CACEoE,KAAM,0EACNC,YAAa,eACbF,UAAW,kBAAM,EAAK4F,cAAchH,OAGxC,uBACEsF,KAAI,eAAU0G,EAAYvJ,UAAtB,mBAA0CuJ,EAAYtJ,OAC1D4K,SAAUvG,GAEV,yBAAK9J,UAAW,iBAAhB,sB,GArNYU,cAkO1B,IAQeU,MARU,SAAAkI,GACvB,MAAO,CACLa,SAAUb,EAAQa,SAClBH,YAAaV,EAAQU,YACrB4B,mBAAoBtC,EAAQsC,sBAIjBxK,CAAiC0N,IC7O1CwB,G,2MACJpO,MAAQ,CACNwH,OAAQ,GACR6G,UAAW,KACXxE,WAAY,G,EAEdvD,YAAa,E,EAUbgI,aAAe,WAAO,IAAD,EACmC,EAAKjP,MAAnDqK,EADW,EACXA,mBAAoB6E,EADT,EACSA,aAAcpN,EADvB,EACuBA,QAC1CuI,EAAmB,CAAEvI,SAAUA,IAC5BL,MAAK,SAAAC,GACA,EAAKuF,YACP,EAAK1F,SAAS,CACZyN,UAAWtN,EAAIE,KAAKC,SACpBsG,OAAQzG,EAAIE,KAAKC,cAGtB4F,OAAM,SAAAC,GAAG,OAAIzB,QAAQC,IAAIwB,MAE5BwH,EAAapN,GACVL,MAAK,SAAAC,GAAQ,IAAD,EAC+BA,EAAIE,KAAKC,SAA3CL,EADG,EACHA,KAAMX,EADH,EACGA,YAAa2J,EADhB,EACgBA,WACvB,EAAKvD,YACP,EAAK1F,SAAS,CACZ4N,WAAY3N,EACZX,YAAaA,EACb2J,kBAGL/C,OAAM,SAAAC,GAAG,OAAIzB,QAAQC,IAAIwB,O,EAG9BhC,S,uCAAW,WAAMP,GAAN,iBAAA3E,EAAA,wDACoB,EAAKR,MAA1B8B,EADC,EACDA,QADC,EACQV,QAETO,KAAK0C,GAAOC,IAAIC,MAAMkG,OAAO/F,aAAc,CACjD5C,UACAqD,QACAsB,YAAa,CACX,CACEI,KAAK,YACLE,KAAM1C,GAAOC,IAAIC,MAAMmG,KAAKC,MAE9B,CACE9D,KAAK,GAAD,OAAK,EAAKlG,MAAMwO,YACpBpI,KAAK,GAAD,OAAK1C,GAAOC,IAAIC,MAAMmG,KAAKC,MAA3B,OAAkC7I,EAAlC,MAEN,CACE+E,KAAM,iBAhBH,2C,yIAhCT5E,KAAKgF,YAAa,EAClBhF,KAAKgN,iB,6CAGLhN,KAAKgF,YAAa,I,+BAiDV,IACAnF,EAAYG,KAAKjC,MAAjB8B,QADD,EAEiDG,KAAKtB,MAArDwH,EAFD,EAECA,OAAQqC,EAFT,EAESA,WAAY2E,EAFrB,EAEqBA,WAAYtO,EAFjC,EAEiCA,YAClC4F,EAAc,CAClB,CACEI,KAAK,YACLE,KAAM1C,GAAOC,IAAIC,MAAMmG,KAAKC,MAE9B,CACE9D,KAAK,GAAD,OAAKsI,EAAL,YAAmB3E,GAA0B,MAIrD,OACE,6BACE,kBAAC,EAAD,CACEtD,aACE,yBAAKzI,UAAU,qBACb,uBAAGA,UAAU,oCADf,cAEE,2BAAO4D,QAAS,cAGpBqD,SAAUzD,KAAKyD,SACfe,YAAaA,IAEf,yBAAKhI,UAAU,sBACb,yBAAKA,UAAW,6BAA8B0Q,GAC9C,yBAAK1Q,UAAW,mCAAoCoC,GACpD,yBAAKpC,UAAW,mCAAoC+L,EAApD,WACA,6BACE,kBAAC,IAAD,CAAM9L,MAAO,CAAEW,UAAW,UAAY+P,GAAI/K,GAAOC,IAAIC,MAAMC,OAAOC,KAAKC,cAAvE,gBAKJ,kBAAC,EAAD,CAAW5C,QAASA,EAAS6H,eAAgB1H,KAAKgN,aAAc9G,OAAQA,S,GAjGvDhJ,aA8GVU,MAPU,SAAAkI,GACvB,MAAO,CACLsC,mBAAoBtC,EAAQsC,mBAC5B6E,aAAcnH,EAAQmH,gBAIXrP,CAAiCkP,IC7G1CM,G,2MACJ1O,MAAQ,CACN2J,eAAgB,KAChBzJ,YAAa,GACbD,MAAO,GACPuH,OAAQ,GACRrH,YAAY,EACZwO,aAAc,M,EAOhBL,a,sBAAe,kCAAAzO,EAAA,wDACyC,EAAKR,MAAnDkP,EADK,EACLA,aAAcpN,EADT,EACSA,QAASuI,EADlB,EACkBA,mBAC/B6E,EAAapN,GACVL,MAAK,SAAAC,GAAQ,IAAD,EACmCA,EAAIE,KAAKC,SAA/CyI,EADG,EACHA,eAAgBzJ,EADb,EACaA,YAAaW,EAD1B,EAC0BA,KACrC,EAAK+N,gBAAgBjF,GACrB,EAAK/I,SAAS,CAAE+I,iBAAgBzJ,cAAaD,MAAOY,OAErDiG,OAAM,SAAAC,GAAG,OAAIzB,QAAQC,IAAIwB,MAE5B2C,EAAmB,CAAEvI,SAAUA,IAC5BL,MAAK,SAAAC,GACJ,EAAKH,SAAS,CAAE4G,OAAQzG,EAAIE,KAAKC,cAElC4F,OAAM,SAAAC,GAAG,OAAIzB,QAAQC,IAAIwB,EAAI7F,aAdnB,2C,EAiBf0N,gBAAkB,SAAA/N,IAEhBoH,EADqB,EAAK5I,MAAlB4I,UACCpH,GACNC,MAAK,SAAAC,GACJ,IAAMwC,EAAQxC,EAAIE,KAAKC,SACvB,EAAKN,SAAS,CACZ+N,aAAa,QAAD,OAAUpL,EAAMD,UAAhB,mBAAoCC,EAAMA,YAGzDuD,OAAM,SAAAC,GAAG,OAAI,EAAKnG,SAAS,CAAE+N,aAAc,W,EAGhDvO,SAAW,WAAO,IAAD,EACgC,EAAKJ,MAA5CE,EADO,EACPA,YAAaD,EADN,EACMA,MAAO0J,EADb,EACaA,eACpBxI,EAAY,EAAK9B,MAAjB8B,QACR,EAAK9B,MACFwP,YAAY1N,EAAS,CACpBjB,cACA4O,UAAW7O,EACX0J,mBAED7I,MAAK,SAAAC,GAAG,OAAI,EAAKuN,kBACjBxH,OAAM,SAAAC,GAAG,OAAIzB,QAAQC,IAAIwB,EAAI7F,c,EASlC6N,cAAgB,WAAO,IAAD,EACsB,EAAK1P,MAAvC2P,EADY,EACZA,YAAa7N,EADD,EACCA,QAASV,EADV,EACUA,QAC9BuO,EAAY7N,GAASL,MAAK,kBAAML,EAAQO,KAAK0C,GAAOC,IAAIC,MAAMmG,KAAKC,U,EAGrEjF,S,uCAAW,WAAMP,GAAN,iBAAA3E,EAAA,wDACoB,EAAKR,MAA1B8B,EADC,EACDA,QADC,EACQV,QACTO,KAAK0C,GAAOC,IAAIC,MAAMkG,OAAO/F,aAAc,CACjD5C,UACAqD,QACAsB,YAAa,CACX,CACEI,KAAK,YACLE,KAAM1C,GAAOC,IAAIC,MAAMmG,KAAKC,MAE9B,CACE9D,KAAK,GAAD,OAAK,EAAKlG,MAAMC,OACpBmG,KAAK,GAAD,OAAK1C,GAAOC,IAAIC,MAAMmG,KAAKC,MAA3B,OAAkC,EAAK3K,MAAM8B,QAA7C,MAEN,CACE+E,KAAM,iBAfH,2C,yIAxDT5E,KAAKgN,iB,+BA6CEjO,EAAGgB,GACVC,KAAKV,SAAL,eACGS,EAAOhB,EAAEkB,OAAOC,U,+BA8BX,IAAD,SAC0DF,KAAKtB,MAA9DC,EADD,EACCA,MAAOC,EADR,EACQA,YAAaC,EADrB,EACqBA,WAAYqH,EADjC,EACiCA,OAAQmH,EADzC,EACyCA,aAC1C7I,EAAc,CAClB,CACEI,KAAK,YACLE,KAAM1C,GAAOC,IAAIC,MAAMmG,KAAKC,MAE9B,CACE9D,KAAK,GAAD,OAAK5E,KAAKtB,MAAMC,OACpBmG,KAAK,GAAD,OAAK1C,GAAOC,IAAIC,MAAMmG,KAAKC,MAA3B,OAAkC1I,KAAKjC,MAAM8B,QAA7C,MAEN,CACE+E,KAAM,iBAGV,OACE,6BACE,kBAAC,EAAD,CACEK,aACE,kBAAC,EAAD,CAAOtG,MAAO,gBACZ,yBAAKnC,UAAU,IACb,yBAAKA,UAAW,gBACd,uBAAGA,UAAU,gCADf,gBAEE,2BAAO4D,QAAS,eAGpB,kBAAC,EAAD,CACEQ,KAAM,0EACNC,YAAa,eACbF,UAAWX,KAAKyN,iBAItBhK,SAAUzD,KAAKyD,SACfe,YAAaA,IAGf,yBAAKhI,UAAW,mBACd,yBAAKA,UAAW,0BACd,yBAAKA,UAAW,0BAAhB,sBACA,yBACEA,UAAS,iCAA4B6Q,EAAe,GAAK,eACzD5Q,MAAO,CACLsF,gBAAgB,OAAD,OAASsL,GAA8BnL,IAAvC,OAGjB,kBAAC,EAAD,CACE1F,UAAW,mBACXmC,MAAK,2CAAmCA,EAAnC,SAEL,yBAAKnC,UAAU,4BACb,yBAAKA,UAAW,gBACd,8BACE,uBAAGA,UAAU,+BADf,cAIA,2BAAO4D,QAAS,eAGpB,kBAAC,EAAD,CACE4G,aAAW,EACXC,SAAU,SAAAoB,GACR,EAAK/I,SAAS,CAAE+I,mBAChB,EAAKiF,gBAAgBjF,IAEvBnC,OAAQA,OAKhB,yBAAK1J,UAAU,yBACb,0BAAMA,UAAW,OAAQsC,SAAUkB,KAAKlB,UACtC,yBAAKtC,UAAU,cACb,2BAAO4D,QAAQ,SAAf,SACA,2BACEC,GAAI,QACJ7D,UAAS,uBAAkBqC,EAAa,GAAK,cAC7CyB,SAAU,SAAAvB,GAAC,OAAI,EAAKuB,SAASvB,EAAG,UAChCmB,MAAOvB,EACPoB,KAAM,UAGV,yBAAKvD,UAAU,cACb,2BAAO4D,QAAQ,eAAf,eACA,8BACEG,KAAM,EACNF,GAAI,cACJ7D,UAAS,eACT8D,SAAU,SAAAvB,GAAC,OAAI,EAAKuB,SAASvB,EAAG,gBAChCmB,MAAOtB,KAGX,yBACEnC,MAAO,CACLI,QAAS,OACTC,eAAgB,kBAGlB,4BAAQN,UAAW,SAAUuD,KAAM,UAAnC,oBAOR,kBAAC,EAAD,CACEF,QAASG,KAAKjC,MAAM8B,QACpB6H,eAAgB1H,KAAKgN,aACrB9F,WAAS,EACThB,OAAQA,S,GArMWhJ,aAuNdU,MAXU,SAAAkI,GACvB,MAAO,CACLa,SAAUb,EAAQa,SAClB+G,YAAa5H,EAAQ4H,YACrBT,aAAcnH,EAAQmH,aACtBM,YAAazH,EAAQyH,YACrBnF,mBAAoBtC,EAAQsC,mBAC5BO,YAAa7C,EAAQ6C,eAIV/K,CAAiCwP,ICzN1CO,G,2MACJjP,MAAQ,CACNqK,WAAW,EACX6E,WAAY,GACZC,UAAU,G,EAgBZtH,cAAgB,SAAAhH,IAEdiH,EADwB,EAAKzI,MAArByI,aACIjH,GACTC,MAAK,WACJ,EAAKF,SAAS,CAAEuO,UAAU,OAE3BrI,OAAM,SAAAC,GAAG,OAAIzB,QAAQC,IAAIwB,EAAI7F,c,mFAnBb,IAAD,OAClBI,KAAKV,SAAS,CAAEyJ,WAAW,IADT,MAEc/I,KAAKjC,OACrC4I,EAHkB,EAEVA,UAFU,EAEArB,WAEf9F,MAAK,SAAAC,GACJ,EAAKH,SAAS,CACZgD,MAAM,QAAD,OAAU7C,EAAIE,KAAKC,SAASoC,UAA5B,mBAAgDvC,EAAIE,KAAKC,SAASqC,YAG1EuD,OAAM,SAAAC,GAAG,OAAI,EAAKnG,SAAS,CAAEuO,UAAU,OACvCpH,SAAQ,kBAAM,EAAKnH,SAAS,CAAEyJ,WAAW,S,+BAYpC,IAAD,SACgC/I,KAAKtB,MAApC4D,EADD,EACCA,MAAOyG,EADR,EACQA,UAAW8E,EADnB,EACmBA,SADnB,EAEwB7N,KAAKjC,MAA5B8B,EAFD,EAECA,QAASyF,EAFV,EAEUA,UAEjB,OACE,yBAAK9I,UAAW,0BACbqR,EACC,yBAAKrR,UAAW,kBAAhB,aAEA,oCACE,yBAAKA,UAAU,2BACb,yBAAKA,UAAS,8BACZ,kBAAC,IAAD,CAAM2Q,GAAI/K,GAAOC,IAAIC,MAAMmG,KAAKC,MAAhC,UACC7I,GACC,oCACE,mCACA,kBAAC,IAAD,CAAMsN,GAAE,UAAK/K,GAAOC,IAAIC,MAAMmG,KAAKC,MAA3B,OAAkC7I,EAAlC,MAA+CA,KAI7D,yBACErD,UAAS,6BACTgE,QAAS,kBAAM,EAAK+F,cAAcjB,KAElC,gDAGJ,yBAAKlB,IAAK9B,EAAO+B,IAAI,MAGxB0E,GAAa,kBAAC,GAAD,W,GA3DI7L,aAwEXU,MAPU,SAAAkI,GACvB,MAAO,CACLa,SAAUb,EAAQa,SAClBH,YAAaV,EAAQU,eAIV5I,CAAiC+P,IC5EjCG,I,wLCIX,OACE,yBAAKtR,UAAU,qCACb,kBAAC,EAAD,W,GAJ2BU,c,6BCK7B6Q,ICsCStN,aA3CM,SAAC,GAA4C,IAA1C9B,EAAyC,EAAzCA,MAAOkD,EAAkC,EAAlCA,MAAOC,EAA2B,EAA3BA,QAASzB,EAAkB,EAAlBA,GAAIlB,EAAc,EAAdA,QAC3C1C,EAAQ,CACZsF,gBAAgB,OAAD,OACbD,EAAO,eACKA,EAAQE,UADb,mBACiCF,EAAQQ,OAC5CJ,KAHS,MAOjB,OACE,yBACE1B,QAAS,kBAAMrB,EAAQO,KAAR,UAAgBW,EAAhB,OACf7D,UAAU,wBAEV,yBACEgE,QAAS,SAAAzB,GACPA,EAAEoD,kBACFhD,EAAQO,KAAR,UAAgBW,EAAhB,WAEF7D,UAAU,oBAEV,uBAAGA,UAAU,oBAGf,yBAAKA,UAAU,kBACb,yBACEC,MAAOA,EACPD,UAAS,yCACPsF,EAAU,GAAK,0BAGjB,yBAAKtF,UAAW,iCACd,uBAAGA,UAAU,oBAEf,yBAAKA,UAAU,mBACb,uBAAGA,UAAU,6BADf,IAC8CqF,KAIlD,yBAAKrF,UAAW,iBAAkBmC,O,2MDjCtCD,MAAQ,CACNsP,UAAW,GACX9H,OAAQ,GACR6B,YAAa,GACbC,YAAY,G,EAGdC,eAAiB,WACf,EAAK3I,UAAS,SAAAZ,GACZ,MAAO,CAAEsJ,YAAatJ,EAAMsJ,gB,EAQhCiG,iBAAmB,YAGjBC,EAFyB,EAAKnQ,MAAtBmQ,gBAEO1O,MAAK,SAAAC,GAClB,EAAKH,SAAS,CAAE0O,UAAWvO,EAAIE,KAAKC,e,mFAPtCI,KAAKiO,qB,+BAWG,IAAD,EAOHjO,KAAKtB,MALPsP,EAFK,EAELA,UAFK,EAGLhG,WAHK,EAIL9B,OAJK,EAKLqC,WALK,EAMLR,YAIO,gBAAD,OAAkBiG,EAAU5P,QAKpC,OACE,yBAAK5B,UAAU,qCACb,kBAAC,EAAD,W,GA3CoBU,cAuDbU,MAPU,SAAAkI,GACvB,MAAO,CACLoI,aAAcpI,EAAQoI,aACtBC,eAAgBrI,EAAQqI,kBAIbvQ,CAAiCmQ,IE5D1CK,G,2MACJ1P,MAAQ,CACN2P,MAAO,GACPC,aAAc,KACd/F,WAAY,G,EAEdvD,YAAa,E,EAUbgI,aAAe,WAAO,IAAD,EAC2C,EAAKjP,MADhD,EACXwQ,sBAYRC,EAbmB,EACWA,iBADX,EAC4BC,YAa5CjP,MAAK,SAAAC,GAAQ,IAAD,EAC+BA,EAAIE,KAAKC,SAA3CL,EADG,EACHA,KAAMX,EADH,EACGA,YAAa8P,EADhB,EACgBA,WACvB,EAAK1J,YACP,EAAK1F,SAAS,CACZqP,cAAepP,EACfX,YAAaA,EACb8P,kBAGLlJ,OAAM,SAAAC,GAAG,OAAIzB,QAAQC,IAAIwB,O,EAG9BhC,S,uCAAW,WAAMP,GAAN,iBAAA3E,EAAA,wDACuB,EAAKR,MAA7B0Q,EADC,EACDA,WADC,EACWtP,QAEZO,KAAK,SAAU,CACrB+O,aACAvL,QACAsB,YAAa,CACX,CACEI,KAAK,eACLE,KAAM,WAER,CACEF,KAAK,GAAD,OAAK,EAAKlG,MAAMiQ,eACpB7J,KAAK,UAAD,OAAY2J,EAAZ,MAEN,CACE7J,KAAM,iBAhBH,2C,yIAjCT5E,KAAKgF,YAAa,EAClBhF,KAAKgN,iB,6CAGLhN,KAAKgF,YAAa,I,+BAmDKhF,KAAKjC,MAApB0Q,WADA,IAAD,EAEmDzO,KAAKtB,MAAhDgQ,GAFR,EAECL,MAFD,EAEQK,YAAYC,EAFpB,EAEoBA,cAAe/P,EAFnC,EAEmCA,YACpC4F,EAAc,CAClB,CACEI,KAAK,eACLE,KAAM,WAER,CACEF,KAAK,GAAD,OAAK+J,GAAiB,GAAtB,YAA4BD,GAA0B,MAI9D,OACE,6BACE,kBAAC,EAAD,CACEjL,SAAUzD,KAAKyD,SACfe,YAAaA,IAEf,yBAAKhI,UAAU,sBACb,yBAAKA,UAAW,6BAA8BmS,GAC9C,yBAAKnS,UAAW,mCAAoCoC,GACpD,yBAAKpC,UAAW,mCACbkS,EADH,iB,GArFkBxR,aCEtB0R,IDmGShR,GAPU,SAAAkI,GACvB,MAAO,CACLyI,qBAAsBzI,EAAQyI,qBAC9BC,gBAAiB1I,EAAQ0I,mBAId5Q,CAAiCwQ,I,2MClG9C1P,MAAQ,CACNmQ,WAAY,KACZjQ,YAAa,GACbD,MAAO,GACPuH,OAAQ,GACRrH,YAAY,EACZkK,WAAW,EACXsE,aAAc,M,EAOhBL,a,sBAAe,gCAAAzO,EAAA,wDACwB,EAAKR,MAAlCyQ,EADK,EACLA,gBAAiB3O,EADZ,EACYA,QAEzB2O,EAAgB3O,GACbL,MAAK,SAAAC,GAAQ,IAAD,EAC+BA,EAAIE,KAAKC,SAA3CiP,EADG,EACHA,WAAYjQ,EADT,EACSA,YAAaW,EADtB,EACsBA,KACjC,EAAK+N,gBAAgBuB,GACrB,EAAKvP,SAAS,CACZuP,aACAjQ,cACAD,MAAOY,OAGViG,OAAM,SAAAC,GAAG,OAAIzB,QAAQC,IAAIwB,MAbf,2C,EAgBf6H,gBAAkB,SAAAhL,GACZA,GACF,EAAKhD,SAAS,CACZ+N,aAAa,QAAD,OAAU/K,EAAMN,UAAhB,mBAAoCM,EAAMA,U,EAI5DxD,SAAW,WAAO,IAAD,EACgB,EAAKJ,MAA5BE,EADO,EACPA,YAAaD,EADN,EACMA,MADN,EAEqB,EAAKZ,MAAjC8B,EAFO,EAEPA,SACRiP,EAHe,EAEEA,gBACFjP,EAAS,CACtBjB,cACAW,KAAMZ,IAELa,MAAK,SAAAC,GAAG,OAAI,EAAKuN,kBACjBxH,OAAM,SAAAC,GAAG,OAAIzB,QAAQC,IAAIwB,EAAI7F,c,EASlC6N,cAAgB,WAAO,IAAD,EACyB,EAAK1P,MAA1CgR,EADY,EACZA,eAAgBlP,EADJ,EACIA,QAASV,EADb,EACaA,QACjC4P,EAAelP,GAASL,MAAK,kBAAML,EAAQO,KAAK,e,EAGlD+D,S,uCAAW,WAAMP,GAAN,iBAAA3E,EAAA,wDACoB,EAAKR,MAA1B8B,EADC,EACDA,QADC,EACQV,QACTO,KAAK,SAAU,CACrBG,UACAqD,QACAsB,YAAa,CACX,CACEI,KAAK,YACLE,KAAM,YAER,CACEF,KAAK,GAAD,OAAK,EAAKlG,MAAMC,OACpBmG,KAAK,WAAD,OAAa,EAAK/G,MAAM8B,QAAxB,MAEN,CACE+E,KAAM,iBAfH,2C,wDAoBXoK,cAAgB,SAAAjQ,GACd,IAAImE,EAAQnE,EAAEkB,OAAOiD,MACrB,GAAIA,EAAM9E,OAAQ,CAEhB8E,GADAA,EAAQE,MAAMC,KAAKH,IACLI,QAAO,SAAAC,GAAE,MAAI,aAAaC,KAAKD,EAAGxD,SAChD,IAAMkJ,EAAW,IAAIC,SACrBD,EAASE,OAAO,QAASjG,EAAM,IAC/B,EAAK5D,SAAS,CAAEyJ,WAAW,IAC3B,EAAKhL,MAAMkR,iBAAiBhG,EAAU,EAAKlL,MAAM8B,SAASL,MAAK,SAAAC,GAC7D,EAAK6N,gBAAgB7N,EAAIE,KAAKC,UAC9B,EAAKN,SAAS,CAAEyJ,WAAW,S,EAIjCmG,cAAgB,WAAO,IAAD,EACqB,EAAKnR,MAAtC8B,EADY,EACZA,SAERsP,EAHoB,EACHA,qBAEGtP,GAASL,MAAK,SAAAC,GAAG,OACnC,EAAKH,SAAS,CAAE+N,aAAc,W,mFAtFhCrN,KAAKgN,iB,+BAqCEjO,EAAGgB,GACVC,KAAKV,SAAL,eACGS,EAAOhB,EAAEkB,OAAOC,U,+BAkDX,IAAD,SACkDF,KAAKtB,MAAtDC,EADD,EACCA,MAAOC,EADR,EACQA,YAAaC,EADrB,EACqBA,WAAYwO,EADjC,EACiCA,aAClC7I,EAAc,CAClB,CACEI,KAAK,YACLE,KAAM,WAER,CACEF,KAAK,GAAD,OAAK5E,KAAKtB,MAAMC,OAAS,IAC7BmG,KAAK,UAAD,OAAY9E,KAAKjC,MAAM8B,QAAvB,MAEN,CACE+E,KAAM,oBAGV,OACE,6BACE,kBAAC,EAAD,CACEK,aACE,kBAAC,EAAD,CAAOtG,MAAO,mBACZ,yBAAKnC,UAAU,IACb,yBAAKA,UAAW,gBACd,uBAAGA,UAAU,gCADf,mBAEE,2BAAO4D,QAAS,eAGpB,kBAAC,EAAD,CACEQ,KAAM,6EACNC,YAAa,kBACbF,UAAWX,KAAKyN,iBAItBhK,SAAUzD,KAAKyD,SACfe,YAAaA,IAEf,2BACEtE,MAAO,GACPG,GAAI,qBACJC,SAAU,SAAAvB,GAAC,OAAI,EAAKiQ,cAAcjQ,IAClCvC,UAAW,sBACXuD,KAAK,SAEP,yBAAKvD,UAAW,mBACd,yBAAKA,UAAW,0BACd,yBAAKA,UAAW,0BAAhB,yBAGC6Q,EACC,yBACE7Q,UAAS,4BACTC,MAAO,CACLsF,gBAAgB,OAAD,OAASsL,EAAT,OAGjB,yBAAK7M,QAASR,KAAKkP,cAAe1S,UAAW,gBAC3C,uBAAGA,UAAU,sBAIjB,yBAAKA,UAAS,yCACZ,uBAAGA,UAAU,mBAAoB,IACjC,2BAAOA,UAAW,YAAa4D,QAAS,yBAI9C,yBAAK5D,UAAU,yBACb,0BAAMA,UAAW,OAAQsC,SAAUkB,KAAKlB,UACtC,yBAAKtC,UAAU,cACb,2BAAO4D,QAAQ,SAAf,SACA,2BACEC,GAAI,QACJ7D,UAAS,uBAAkBqC,EAAa,GAAK,cAC7CyB,SAAU,SAAAvB,GAAC,OAAI,EAAKuB,SAASvB,EAAG,UAChCmB,MAAOvB,EACPoB,KAAM,UAGV,yBAAKvD,UAAU,cACb,2BAAO4D,QAAQ,eAAf,eACA,8BACEG,KAAM,EACNF,GAAI,cACJ7D,UAAS,eACT8D,SAAU,SAAAvB,GAAC,OAAI,EAAKuB,SAASvB,EAAG,gBAChCmB,MAAOtB,KAGX,yBACEnC,MAAO,CACLI,QAAS,OACTC,eAAgB,kBAGlB,4BAAQN,UAAW,SAAUuD,KAAM,UAAnC,yB,GAnMgB7C,cCD1BkS,ID0NSxR,GAVU,SAAAkI,GACvB,MAAO,CACLgJ,eAAgBhJ,EAAQgJ,eACxBC,eAAgBjJ,EAAQiJ,eACxBP,gBAAiB1I,EAAQ0I,gBACzBW,oBAAqBrJ,EAAQqJ,oBAC7BF,iBAAkBnJ,EAAQmJ,oBAIfrR,CAAiCgR,I,2MCzN9ClQ,MAAQ,CACN2Q,MAAO,GACPC,SAAU,GACVvG,WAAW,EACXwG,WAAW,EACXC,OAAQ,I,EAGV1Q,SAAW,SAAAC,GACTA,EAAEC,iBADY,MAEc,EAAKN,MAAzB4Q,EAFM,EAENA,SAAUD,EAFJ,EAEIA,MAClB,EAAK/P,SAAS,CAAEiQ,WAAW,EAAOxG,WAAW,EAAMyG,OAAQ,KAC3D1P,YAAW,WACT,EAAK/B,MACF0R,OAAO,CACNJ,QACAK,aAAcJ,IAEf9P,MAAK,WACJ,EAAKzB,MAAMoB,QAAQO,KAAK0C,GAAOuN,KAAKjH,SAErClD,OAAM,SAAAC,GACDA,EAAI7F,UACNoE,QAAQC,IAAI,wBAAyBwB,EAAI7F,SAASgQ,QACJ,IAA1CC,KAAKC,MAAMrK,EAAI7F,SAASgQ,OAAS,MACnC,EAAKtQ,SAAS,CACZiQ,WAAW,EACXxG,WAAW,EACXyG,OAAQ,qCAGZ,EAAKlQ,SAAS,CACZiQ,WAAW,EACXxG,WAAW,EACXyG,OAAQ/J,EAAIsK,eAGnB,M,EAELC,gBAAkB,SAAAjR,GAChB,IAAMQ,EAAOR,EAAEkB,OAAOV,KAChBW,EAAQnB,EAAEkB,OAAOC,MACvB,EAAKZ,SAAL,eACGC,EAAOW,K,wEAGF,IAAD,SACmDF,KAAKtB,MAAvD2Q,EADD,EACCA,MAAOC,EADR,EACQA,SAAUvG,EADlB,EACkBA,UAAWwG,EAD7B,EAC6BA,UAAWC,EADxC,EACwCA,OAC/C,OACE,yBAAKhT,UAAW,gBACd,0BAAMA,UAAW,OAAQsC,SAAUkB,KAAKlB,UACtC,yBAAKtC,UAAU,cACb,2BAAOA,UAAW,sBAAuB4D,QAAQ,SAAjD,iBAGA,2BACEb,KAAM,QACNc,GAAI,QACJ7D,UAAS,eACT8D,SAAUN,KAAKgQ,gBACf9P,MAAOmP,EACPtP,KAAM,OACNmC,YAAa,sBAGjB,yBAAK1F,UAAU,cACb,2BAAOA,UAAW,sBAAuB4D,QAAQ,YAAjD,YAGA,2BACEb,KAAM,WACNc,GAAI,WACJ7D,UAAS,eACT8D,SAAUN,KAAKgQ,gBACf9P,MAAOoP,EACPvP,KAAM,WACNmC,YAAa,cAGhB6G,EACC,4BAAQkH,UAAQ,EAACzT,UAAW,SAAUuD,KAAM,UAA5C,cAIA,4BAAQvD,UAAW,SAAUuD,KAAM,UAAnC,WAIDwP,EACC,yBAAK/S,UAAW,SACd,uBACEgE,QAAS,WACP,EAAKlB,SAAS,CAAEiQ,WAAW,KAE7B/S,UAAU,oBAEZ,8BAAOgT,IAEP,KACJ,yBAAKhT,UAAW,0BAAhB,kBACiB,kBAAC,IAAD,CAAM2Q,GAAI/K,GAAO8N,OAAOxH,MAAxB,6B,GArGFxL,cAmHVgB,KACbN,GAPuB,SAAAkI,GACvB,MAAO,CACL2J,OAAQ3J,EAAQ2J,WAMlBhP,IAFavC,CAGbkR,I,oBC9Gae,GAVA,WACb,OACE,6BACE,yBAAK3T,UAAU,iBAAiBG,OAAQ,OAAQyH,IAAKgM,KAAM/L,IAAI,KAC/D,yBAAK7H,UAAW,aAAhB,qBACA,kBAAC,GAAD,QCFA6T,G,2MACJ3R,MAAQ,CACN4R,SAAU,GACVjB,MAAO,GACPkB,WAAY,CAAElB,MAAO,GAAIC,SAAU,GAAIgB,SAAU,IACjDhB,SAAU,GACVkB,YAAY,EACZC,eAAe,EACfC,eAAe,EACfC,cAAe,GACfC,cAAe,GACfC,WAAY,GACZC,WAAW,EACX/H,WAAW,EACXgI,cAAc,EACdC,cAAc,G,EAGhBC,cAAgB,SAACC,EAAWhR,GAAW,IAAD,EAUhC,EAAKxB,MARP6R,EAFkC,EAElCA,WACAC,EAHkC,EAGlCA,WACAC,EAJkC,EAIlCA,cACAC,EALkC,EAKlCA,cACAG,EANkC,EAMlCA,WACAD,EAPkC,EAOlCA,cACAD,EARkC,EAQlCA,cACAI,EATkC,EASlCA,aAGF,OAAQG,GACN,IAAK,QAIHL,GAHAL,EAAa,yJAAyJhN,KACpKtD,MAE0B6Q,EAAe,WAAa,aAEjCR,EAAWlB,MAD7BmB,EACIO,EAAiC,yBAClB,GAFY,mBAGpC,MACF,IAAK,WAEHH,GADAH,EAAgB,oBAAoBjN,KAAKtD,IACT,WAAa,aAC7CqQ,EAAWjB,SAAWmB,EAClB,GACA,oFACJ,MACF,IAAK,WAEHE,GADAD,EAAgB,+CAA2BlN,KAAKtD,IAChB,WAAa,aAC7CqQ,EAAWD,SAAWI,EAClB,GACA,mEAKR,EAAKpR,SACH,CACEiR,aACAC,aACAC,gBACAC,gBACAC,gBACAC,gBACAC,cAEF,EAAKM,e,EAGTA,aAAe,WAAO,IAAD,EACkC,EAAKzS,MAAlD8R,EADW,EACXA,WAAYC,EADD,EACCA,cAAeC,EADhB,EACgBA,cACnC,EAAKpR,SAAS,CACZwR,UAAWN,GAAcC,GAAiBC,K,EAG9C5R,SAAW,SAAAC,GACTA,EAAEC,iBADY,MAEmC,EAAKN,MAA9C4R,EAFM,EAENA,SAAUhB,EAFJ,EAEIA,SAAUD,EAFd,EAEcA,MAFd,EAEqByB,YAEjC,EAAKxR,SAAS,CAAEyJ,WAAW,IAC3BjJ,YAAW,WACT,EAAK/B,MACFmS,OAAO,CAAEI,WAAUhB,WAAUD,UAC7B7P,MAAK,WACJ,EAAKzB,MAAMoB,QAAQO,KAAK0C,GAAOuN,KAAKjH,SAErClD,OAAM,SAAAC,GACL,EAAKnG,SAAS,CAAEyJ,WAAW,SAE9B,O,EAGPiH,gBAAkB,SAAAjR,GAChB,IAAMQ,EAAOR,EAAEkB,OAAOV,KAChBW,EAAQnB,EAAEkB,OAAOC,MAEvB,EAAKZ,SAAL,eAEKC,EAAOW,IAEV,WACE,EAAK+Q,cAAc1R,EAAMW,MAGhB,UAATX,IACF,EAAKD,SAAS,CAAE0R,cAAc,IAC9BlR,YAAW,WACT,EAAK/B,MACFqT,aAAalR,GACbV,MAAK,SAAAC,GACJ,EAAKH,SAAS,CACZyR,cAAc,OAGjBvL,OAAM,SAAAC,GACL,EAAKnG,SAAS,CACZyR,cAAc,OAGjBtK,SAAQ,WACP,EAAKnH,SAAS,CAAE0R,cAAc,IAAS,WACrC,EAAKC,cAAc1R,EAAMW,WAG9B,O,wEAGG,IAAD,EAYHF,KAAKtB,MAVP4R,EAFK,EAELA,SACAjB,EAHK,EAGLA,MACAC,EAJK,EAILA,SACAwB,EALK,EAKLA,UACAP,EANK,EAMLA,WACAI,EAPK,EAOLA,cACAC,EARK,EAQLA,cACAC,EATK,EASLA,WACA9H,EAVK,EAULA,UACAiI,EAXK,EAWLA,aAEF,OACE,yBAAKxU,UAAW,gBACd,0BAAMA,UAAW,OAAQsC,SAAUkB,KAAKlB,UACtC,yBAAKtC,UAAU,cACb,2BAAOA,UAAW,sBAAuB4D,QAAQ,SAAjD,YAGA,2BACEb,KAAM,WACNc,GAAI,WACJ7D,UAAS,uBAAkBmU,GAC3BrQ,SAAUN,KAAKgQ,gBACf9P,MAAOoQ,EACPvQ,KAAM,OACNmC,YAAa,aAEf,yBAAK1F,UAAW,oBAAqB+T,EAAWD,WAElD,yBAAK9T,UAAU,cACb,2BAAOA,UAAW,sBAAuB4D,QAAQ,SAAjD,iBAGA,2BACEb,KAAM,QACNc,GAAI,QACJ7D,UAAS,uBAAkBwU,EAAe,0BAA4BH,GACtEvQ,SAAUN,KAAKgQ,gBACf9P,MAAOmP,EACPtP,KAAM,OACNmC,YAAa,qBAEf,yBAAK1F,UAAW,oBAAqB+T,EAAWlB,QAElD,yBAAK7S,UAAU,cACb,2BAAOA,UAAW,sBAAuB4D,QAAQ,YAAjD,YAGA,2BACEb,KAAM,WACNc,GAAI,WACJ7D,UAAS,uBAAkBoU,GAC3BtQ,SAAUN,KAAKgQ,gBACf9P,MAAOoP,EACPvP,KAAM,WACNmC,YAAa,aAEf,yBAAK1F,UAAW,oBAAqB+T,EAAWjB,WAEjDvG,EACC,4BAAQkH,UAAQ,EAACzT,UAAW,SAAUuD,KAAM,UAA5C,wBAIA,4BAAQkQ,UAAWa,EAAWtU,UAAW,SAAUuD,KAAM,UAAzD,2B,GAlMa7C,aAiNVgB,KACbN,GAPuB,SAAAkI,GACvB,MAAO,CACLoK,OAAQpK,EAAQoK,OAChBkB,aAActL,EAAQsL,iBAKxB3Q,IAFavC,CAGbmS,IC3Ma,IACbV,KAAM,CACJjH,KAAM,IACN2I,KAAMzU,GAER6S,OAAQ,CAAE/G,KAAM,WAAY2I,KAAMlB,IAClCD,OAAQ,CAAExH,KAAM,WAAY2I,KClBf,WACb,OACE,6BACE,yBAAK7U,UAAU,iBAAiBG,OAAQ,OAAQyH,IAAKgM,KAAM/L,IAAI,KAC/D,yBAAK7H,UAAW,aAAhB,eACA,kBAAC,GAAD,SDcJ6F,IAAK,CACHC,MAAO,CACLmG,KAAM,CACJC,KAAM,WACN2I,KAAMC,GAER/O,OAAQ,CACNC,KAAM,CACJkG,KAAM,mBACNjG,aAAc,OACd4O,KAAMjE,IAER9K,MAAO,CACLoG,KAAM,+BACN2I,KAAM1D,IAERnF,OAAQ,CACNE,KAAM,0BACN2I,KAAMzI,IAERd,MAAO,CACLY,KAAM,mBACN2I,KAAMvE,KAGV1G,OAAQ,CACNsC,KAAM,cACNjG,aAAc,QACd4O,KAAM/F,IAERhJ,MAAO,CACLoG,KAAM,sBACN2I,KAAM1D,IAERnF,OAAQ,CACNE,KAAM,iBACNjG,aAAc,SACd4O,KAAMzI,KAGVyF,MAAO,CACL5F,KAAM,CACJC,KAAM,SACN2I,KAAMtD,KAGVwD,MAAO,CACL9I,KAAM,CACJC,KAAM,SACN2I,KAAMvD,OEnEO0D,G,2MACnB9S,MAAQ,CACN+S,cAAc,G,wEAEN,IAAD,OACP,OACE,yBAAKjV,UAAW,gBACd,kBAAC,IAAD,CAAM2Q,GAAI/K,GAAOuN,KAAKjH,KAAMlM,UAAU,gBACpC,yBAAK4H,IAAI,0BAA0B5H,UAAU,OAAO6H,IAAI,YAE1D,yBACE7D,QAAS,kBACP,EAAKlB,UAAS,SAAA8J,GACZ,MAAO,CACLqI,cAAerI,EAAUqI,kBAI/BjV,UAAS,sBACPwD,KAAKtB,MAAM+S,aAAe,UAAY,GAD/B,mBAIT,yBAAKjV,UAAU,YAEjB,kBAAC,GAAD,CACEiV,aAAczR,KAAKtB,MAAM+S,aACzBjR,QAAS,kBACP,EAAKlB,UAAS,SAAA8J,GACZ,MAAO,CACLqI,cAAerI,EAAUqI,yB,GA7BDvU,aAuClCwU,GAAO,SAAC,GAA+B,IAA7BD,EAA4B,EAA5BA,aAAcjR,EAAc,EAAdA,QAC5B,OACE,wBAAIhE,UAAS,uBAAkBiV,EAAe,cAAgB,KAC5D,wBAAIjV,UAAU,gBACZ,kBAAC,IAAD,CACEgE,QAASA,EACTmR,gBAAiB,cACjBnV,UAAU,eACV2Q,GAAI/K,GAAOuN,KAAKjH,KAChBkJ,OAAK,GAEL,uBAAGpV,UAAU,8BAPf,UAUF,wBAAIA,UAAU,gBACZ,kBAAC,IAAD,CACEgE,QAASA,EACTmR,gBAAiB,cACjBnV,UAAU,eACV2Q,GAAI/K,GAAOC,IAAIC,MAAMmG,KAAKC,MAE1B,uBAAGlM,UAAU,+BANf,WASF,wBAAIA,UAAU,gBACZ,kBAAC,IAAD,CACEgE,QAASA,EACTmR,gBAAiB,cACjBnV,UAAU,eACV2Q,GAAI/K,GAAOC,IAAIkP,MAAM9I,KAAKC,MAE1B,uBAAGlM,UAAU,+BANf,WASF,wBAAIA,UAAU,gBACZ,kBAAC,IAAD,CACEgE,QAASA,EACTmR,gBAAiB,cACjBnV,UAAU,eACV2Q,GAAI/K,GAAOC,IAAIgM,MAAM5F,KAAKC,MAE1B,uBAAGlM,UAAU,+BANf,aCzBOqV,GAhDK,WAClB,IAAMC,EAAQC,IAAQC,IAAI,YACtBC,EAAU,GACV3B,EAAW,GAKf,OAJIwB,IAEFxB,GADA2B,EAAUH,EAAMI,MAAM,KAAK,IACNC,KAAKC,MAAMC,KAAKJ,IAAUK,KAAO,IAGtD,yBAAK9V,UAAU,iBACb,4BACEuD,KAAK,SACLvD,UAAU,oCACV+V,cAAY,WACZC,gBAAc,OACdC,gBAAc,SAEbnC,EACD,yBAAK9T,UAAU,gBAEjB,yBAAKA,UAAU,qCACb,4BAAQA,UAAU,gBAAgBuD,KAAK,UAAvC,cAGA,yBAAKvD,UAAU,qBACf,4BAAQA,UAAU,gBAAgBuD,KAAK,UAAvC,YAGA,4BAAQvD,UAAU,gBAAgBuD,KAAK,UAAvC,QAGA,yBAAKvD,UAAU,qBACf,kBAAC,IAAD,CACEgE,QAAS,WACPuR,IAAQ/O,OAAO,WAAY,CAAE0F,KAAM,MACnCqJ,IAAQ/O,OAAO,YAAa,CAAE0F,KAAM,MACpCqJ,IAAQ/O,OAAO,eAAgB,CAAE0F,KAAM,OAEzCyE,GAAI/K,GAAOqN,OACXjT,UAAU,iBAPZ,eCnCOkW,I,OCGA,WACb,OACE,yBAAKlW,UAAU,UACb,yBAAKA,UAAU,aACb,kBAAC,GAAD,MACA,kBAAC,GAAD,UCJOmW,GAJW,SAAC,GAAkB,IAAhBzR,EAAe,EAAfA,SAC3B,OAAO,yBAAK1E,UAAU,qCAAqC0E,ICU9C0R,GARM,SAAA7U,GACnB,OAAOgU,IAAQC,IAAI,YACjB,kBAAC,IAAUjU,GAEX,kBAAC,IAAD,CAAUoP,GAAI/K,GAAOqN,OAAO/G,QCGXmK,I,qMACG/L,EAAWC,EAAW+L,GAAc,IAClD3G,EAAanM,KAAKjC,MAAlBoO,SAIN,MAHiC,QAA7BrF,EAAU3H,QAAQ4T,QAAsB5G,EAASzN,OAAUyN,EAASzN,MAAM2H,QAC5ErG,KAAKgT,iBAAmBhT,KAAKjC,MAAMoO,WAE9B,I,+BAGC,IAAD,OACH8G,EAAejT,KAAKgT,iBAAmBhT,KAAKgT,iBAAiBE,SAA9C,IAGfD,GAAyD,KAAzCA,EAAaA,EAAa7U,OAAS,KACrD6U,EAAeA,EAAaxL,MAAM,EAAGwL,EAAaE,YAAY,KAAO,IALhE,IAODhH,EAAanM,KAAKjC,MAAlBoO,SACFiH,KAAajH,EAASzN,QAASyN,EAASzN,MAAM2H,OAASrG,KAAKgT,mBAAqB7G,GACrF,OACE,6BACE,kBAAC,IAAD,CAAQA,SAAUiH,EAAUpT,KAAKgT,iBAAmB7G,GAClD,kBAAC,GAAD,CACEzD,KAAMtG,GAAOuN,KAAKjH,KAClB2K,OAAQ,WACN,OACE,kBAAC,IAAMhS,SAAP,KACE,kBAAC,GAAD,MACA,kBAACe,GAAOuN,KAAK0B,KAAb,QAINO,OAAK,IAEP,kBAAC,GAAD,CACElJ,KAAMtG,GAAOC,IAAIC,MAAMmG,KAAKC,KAC5BkJ,OAAK,EACLyB,OAAQ,YAAkB,IAAflU,EAAc,EAAdA,QACT,OACE,kBAAC,IAAMkC,SAAP,KACE,kBAAC,GAAD,MACA,kBAAC,GAAD,KACE,kBAACe,GAAOC,IAAIC,MAAMmG,KAAK4I,KAAvB,CAA4BlS,QAASA,SAM/C,kBAAC,GAAD,CACEuJ,KAAMtG,GAAOC,IAAIC,MAAMA,MAAMoG,KAC7B2K,OAAQ,YAAmC,IAAhClU,EAA+B,EAA/BA,QAASgN,EAAsB,EAAtBA,SAAUmH,EAAY,EAAZA,MAC5B,OACE,kBAAC,IAAMjS,SAAP,KACE,kBAACe,GAAOC,IAAIC,MAAMA,MAAM+O,KAAxB,CACE/L,UAAWgO,EAAMC,OAAOhU,KACxB4M,SAAUA,EACVhN,QAASA,MAKjByS,OAAK,IAEP,kBAAC,GAAD,CACElJ,KAAMtG,GAAOC,IAAIC,MAAMC,OAAOC,KAAKkG,KACnC2K,OAAQ,YAAyB,IAAtBlU,EAAqB,EAArBA,QAASmU,EAAY,EAAZA,MAClB,OACE,kBAAC,IAAMjS,SAAP,KACE,kBAAC,GAAD,MACA,kBAAC,GAAD,KACE,kBAACe,GAAOC,IAAIC,MAAMC,OAAOC,KAAK6O,KAA9B,CACElS,QAASA,EACTU,QAASyT,EAAMC,OAAOlT,QAMhCuR,OAAK,IAEP,kBAAC,GAAD,CACElJ,KAAMtG,GAAOC,IAAIC,MAAMC,OAAOD,MAAMoG,KACpC2K,OAAQ,YAAyB,IAAtBC,EAAqB,EAArBA,MAAOnU,EAAc,EAAdA,QACVkB,EAAKiT,EAAMC,OAAO1T,QAClBN,EAAO+T,EAAMC,OAAOhU,KAC1B,OACE,kBAAC,IAAM8B,SAAP,KACE,kBAACe,GAAOC,IAAIC,MAAMC,OAAOD,MAAM+O,KAA/B,CACExR,QAASQ,EACTlB,QAASA,EACTmG,UAAW/F,MAKnBqS,OAAK,IAEP,kBAAC,GAAD,CACElJ,KAAMtG,GAAOC,IAAIC,MAAMkG,OAAOE,KAC9BkJ,OAAK,EACLyB,OAAQ,YAA4B,IAAzBlH,EAAwB,EAAxBA,SAAUhN,EAAc,EAAdA,QACnB,OAAI,EAAK6T,kBAAuC,QAAnB7T,EAAQ4T,OAEjC,kBAAC,IAAM1R,SAAP,KACE,kBAAC,GAAD,MACA,kBAAC,GAAD,KACE,kBAACe,GAAOC,IAAIC,MAAMkG,OAAO6I,KAAzB,eAA8BlS,QAASA,GAAagN,EAASzN,UAIzD,kBAAC,IAAD,CAAUyO,GAAI/K,GAAOC,IAAIC,MAAMmG,KAAKC,UAGpD,kBAAC,GAAD,CACEA,KAAMtG,GAAOC,IAAIC,MAAMC,OAAOiG,OAAOE,KACrCkJ,OAAK,EACLyB,OAAQ,YAA4B,IAAzBlU,EAAwB,EAAxBA,QAASgN,EAAe,EAAfA,SAClB,OAAI,EAAK6G,kBAAuC,QAAnB7T,EAAQ4T,OAEjC,kBAAC,IAAM1R,SAAP,KACE,kBAAC,GAAD,MACA,kBAAC,GAAD,KACE,kBAACe,GAAOC,IAAIC,MAAMC,OAAOiG,OAAO6I,KAAhC,eAAqClS,QAASA,GAAagN,EAASzN,UAIhE,kBAAC,IAAD,CAAUyO,GAAI/K,GAAOC,IAAIC,MAAMmG,KAAKC,UAGpD,kBAAC,GAAD,CACEA,KAAMtG,GAAOC,IAAIC,MAAMC,OAAOuF,MAAMY,KACpCkJ,OAAK,EACLyB,OAAQ,YAAmC,IAAhClU,EAA+B,EAA/BA,QAASmU,EAAsB,EAAtBA,MAAOnH,EAAe,EAAfA,SACnB9L,EAAKiT,EAAMC,OAAO1T,QACxB,OACE,kBAAC,IAAMwB,SAAP,KACE,kBAAC,GAAD,MACA,kBAAC,GAAD,KACE,kBAACe,GAAOC,IAAIC,MAAMC,OAAOuF,MAAMuJ,KAA/B,eACElS,QAASA,GACLgN,EAASzN,MAFf,CAGEmB,QAASQ,UAOrB,kBAAC,GAAD,CACEqI,KAAMtG,GAAOC,IAAIkP,MAAM9I,KAAKC,KAC5B2K,OAAQ,WACN,OACE,kBAAC,IAAMhS,SAAP,KACE,kBAAC,GAAD,MACA,kBAACe,GAAOC,IAAIkP,MAAM9I,KAAK4I,KAAvB,UAKR,kBAAC,GAAD,CACE3I,KAAMtG,GAAOC,IAAIgM,MAAM5F,KAAKC,KAC5B2K,OAAQ,WACN,OACE,kBAAC,IAAMhS,SAAP,KACE,kBAAC,GAAD,MACA,kBAACe,GAAOC,IAAIgM,MAAM5F,KAAK4I,KAAvB,UAkCR,kBAAC,GAAD,CACEgC,OAAQ,YAAkB,IAAflU,EAAc,EAAdA,QACT,OACE,6BACE,oCACA,2CAAiBA,EAAQgN,SAAS+G,eAO5C,kBAAC,IAAD,CACExK,KAAMtG,GAAOqN,OAAO/G,KACpB2K,OAAQ,WACN,OAAOtB,IAAQC,IAAI,YACjB,kBAAC,IAAD,CAAU7E,GAAI/K,GAAOuN,KAAKjH,OAE1B,kBAACtG,GAAOqN,OAAO4B,KAAf,SAIN,kBAAC,IAAD,CACE3I,KAAMtG,GAAO8N,OAAOxH,KACpB2K,OAAQ,WACN,OAAOtB,IAAQC,IAAI,YACjB,kBAAC,IAAD,CAAU7E,GAAI/K,GAAOuN,KAAKjH,OAE1B,kBAACtG,GAAO8N,OAAOmB,KAAf,SAIL+B,EACC,kBAAC,GAAD,CACE1K,KAAMuK,EAAe7Q,GAAOC,IAAIC,MAAM8D,OAAOsC,KAC7C2K,OAAQ,YAA4B,IAAzBlU,EAAwB,EAAxBA,QAASgN,EAAe,EAAfA,SAClB,OACE,kBAAC,IAAM9K,SAAP,KACE,kBAACe,GAAOC,IAAIC,MAAM8D,OAAOiL,KAAzB,CACEmC,SAAU,EAAKR,iBACf7G,SAAUA,EACVhN,QAASA,QAMjB,U,GArPqBjC,c,oBCJ3Bc,GAAa,ICHjB,aAAe,IAAD,gCAGdyV,SAAW,0BAHG,KAKdhE,OALc,uCAKL,WAAM7O,GAAN,SAAArC,EAAA,+EACAmV,KACJC,KAAK,EAAKF,SAAW,gBAAiBtB,KAAKyB,UAAUhT,GAAO,CAC3DiT,QAAS,CACP,eAAgB,sBAGnBrU,MAAK,SAASC,GACbsS,IAAQ+B,IAAI,WAAYrU,EAAIE,KAAKC,SAASmU,YAAa,CACrDrL,KAAM,MAERqJ,IAAQ+B,IAAI,YAAarU,EAAIE,KAAKC,SAASoU,UAAW,CACpDtL,KAAM,MAERqJ,IAAQ+B,IAAI,eAAgBrU,EAAIE,KAAKC,SAASqU,aAAc,CAC1DvL,KAAM,UAfL,2CALK,2DAwBdwH,OAxBc,uCAwBL,WAAMtP,GAAN,SAAArC,EAAA,+EACAmV,KACJC,KAAK,EAAKF,SAAW,gBAAiBtB,KAAKyB,UAAUhT,GAAO,CAC3DiT,QAAS,CACP,eAAgB,sBAGnBrU,MAAK,SAASC,GACbsS,IAAQ+B,IAAI,WAAYrU,EAAIE,KAAKC,SAASmU,YAAa,CACrDrL,KAAM,MAERqJ,IAAQ+B,IAAI,YAAarU,EAAIE,KAAKC,SAASoU,UAAW,CACpDtL,KAAM,MAERqJ,IAAQ+B,IAAI,eAAgBrU,EAAIE,KAAKC,SAASqU,aAAc,CAC1DvL,KAAM,UAfL,2CAxBK,2DA2Cd0I,aA3Cc,uCA2CC,WAAM/B,GAAN,SAAA9Q,EAAA,+EACNmV,KAAM1B,IAAI,EAAKyB,SAAW,gBAAkBpE,EAAO,CACxDwE,QAAS,CACP,eAAgB,uBAHP,2CA3CD,2DAkDd1L,UAlDc,sBAkDF,sBAAA5J,EAAA,sEACJ,EAAK2V,eADD,gCAEHR,KAAM1B,IAAI,EAAKyB,SAAW,eAAgB,CAC/CI,QAAS,CACP,eAAgB,mBAChBM,cAAe,UAAYpC,IAAQC,IAAI,gBALjC,2CAlDE,KA2Dd/E,aA3Dc,uCA2DC,WAAM5M,GAAN,SAAA9B,EAAA,sEACP,EAAK2V,eADE,gCAENR,KAAM1B,IAAI,EAAKyB,SAAW,gBAAkBpT,EAAI,CACrDwT,QAAS,CACP,eAAgB,mBAChBM,cAAe,UAAYpC,IAAQC,IAAI,gBAL9B,2CA3DD,2DAoEd5S,YApEc,uCAoEA,WAAMwB,GAAN,SAAArC,EAAA,sEACN,EAAK2V,eADC,gCAELR,KAAMC,KAAK,EAAKF,SAAW,eAAgBtB,KAAKyB,UAAUhT,GAAO,CACtEiT,QAAS,CACP,eAAgB,mBAChBM,cAAe,UAAYpC,IAAQC,IAAI,gBAL/B,2CApEA,2DA6EdzE,YA7Ec,uCA6EA,WAAOlN,EAAIO,GAAX,SAAArC,EAAA,sEACN,EAAK2V,eADC,gCAELR,KAAMU,IACX,EAAKX,SAAW,gBAAkBpT,EAClC8R,KAAKyB,UAAUhT,GACf,CACEiT,QAAS,CACP,eAAgB,mBAChBM,cAAe,UAAYpC,IAAQC,IAAI,gBARjC,2CA7EA,6DA0FdtE,YA1Fc,uCA0FA,WAAMrN,GAAN,SAAA9B,EAAA,sEACN,EAAK2V,eADC,gCAELR,KAAMW,OAAO,EAAKZ,SAAW,gBAAkBpT,EAAI,CACxDwT,QAAS,CACP,eAAgB,mBAChBM,cAAe,UAAYpC,IAAQC,IAAI,gBAL/B,2CA1FA,2DAmGdrJ,YAnGc,uCAmGA,WAAM/H,GAAN,SAAArC,EAAA,sEACN,EAAK2V,eADC,gCAELR,KAAMC,KAAK,EAAKF,SAAW,UAAW7S,EAAM,CACjDiT,QAAS,CACP,eAAgB,sBAChBM,cAAe,UAAYpC,IAAQC,IAAI,gBAL/B,2CAnGA,2DA4GdrL,SA5Gc,uCA4GH,WAAOpH,EAAM+U,GAAb,eAAA/V,EAAA,6DACHgW,EAAQD,EAAU,cAAgB,GAD/B,SAEH,EAAKJ,eAFF,gCAGFR,KAAM1B,IAAI,EAAKyB,SAAW,WAAalU,EAAOgV,EAAO,CAC1DV,QAAS,CACP,eAAgB,mBAChBM,cAAe,UAAYpC,IAAQC,IAAI,gBANlC,2CA5GG,6DAsHd3M,uBAtHc,uCAsHW,WAAO9F,EAAMqB,GAAb,SAAArC,EAAA,sEACjB,EAAK2V,eADY,gCAEhBR,KAAMc,MACX,EAAKf,SAAW,WAAalU,EAC7B4S,KAAKyB,UAAUhT,GACf,CACEiT,QAAS,CACP,eAAgB,mBAChBM,cAAe,UAAYpC,IAAQC,IAAI,gBARtB,2CAtHX,6DAoId5J,mBApIc,uCAoIO,WAAMmL,GAAN,SAAAhV,EAAA,sEACb,EAAK2V,eADQ,gCAEZR,KAAM1B,IAAI,EAAKyB,SAAW,WAAa/I,GAAU6I,GAAS,CAC/DM,QAAS,CACP,eAAgB,sBAChBM,cAAe,UAAYpC,IAAQC,IAAI,gBALxB,2CApIP,2DA8IdyC,cA9Ic,sBA8IE,sBAAAlW,EAAA,sEACR,EAAK2V,eADG,gCAEPR,KAAM1B,IAAI,EAAKyB,SAAW,WAAY,CAC3CI,QAAS,CACP,eAAgB,sBAChBM,cAAe,UAAYpC,IAAQC,IAAI,gBAL7B,2CA9IF,KAuJdxL,YAvJc,uCAuJA,WAAMjH,GAAN,SAAAhB,EAAA,sEACN,EAAK2V,eADC,gCAELR,KAAMW,OAAO,EAAKZ,SAAW,WAAalU,EAAM,CACrDsU,QAAS,CACP,eAAgB,mBAChBM,cAAe,UAAYpC,IAAQC,IAAI,gBAL/B,2CAvJA,2DAiKd9D,aAjKc,sBAiKC,sBAAA3P,EAAA,sEACP,EAAK2V,eADE,gCAENR,KAAM1B,IAAI,EAAKyB,SAAW,aAAc,CAC7CI,QAAS,CACP,eAAgB,mBAChBM,cAAe,UAAYpC,IAAQC,IAAI,gBAL9B,2CAjKD,KA2Kd7D,eA3Kc,uCA2KG,WAAMvN,GAAN,SAAArC,EAAA,sEACT,EAAK2V,eADI,gCAERR,KAAMC,KAAK,EAAKF,SAAW,aAActB,KAAKyB,UAAUhT,GAAO,CACpEiT,QAAS,CACP,eAAgB,mBAChBM,cAAe,UAAYpC,IAAQC,IAAI,gBAL5B,2CA3KH,2DAoLdjD,eApLc,uCAoLG,WAAM1O,GAAN,SAAA9B,EAAA,sEACT,EAAK2V,eADI,gCAERR,KAAMW,OAAO,EAAKZ,SAAW,cAAgBpT,EAAI,CACtDwT,QAAS,CACP,eAAgB,mBAChBM,cAAe,UAAYpC,IAAQC,IAAI,gBAL5B,2CApLH,2DA6LdxD,gBA7Lc,uCA6LI,WAAMnO,GAAN,SAAA9B,EAAA,sEACV,EAAK2V,eADK,gCAETR,KAAM1B,IAAI,EAAKyB,SAAW,cAAgBpT,EAAI,CACnDwT,QAAS,CACP,eAAgB,mBAChBM,cAAe,UAAYpC,IAAQC,IAAI,gBAL3B,2CA7LJ,2DAuMd/C,iBAvMc,uCAuMK,WAAOrO,EAAMP,GAAb,SAAA9B,EAAA,sEACX,EAAK2V,eADM,gCAEVR,KAAMU,IAAI,EAAKX,SAAW,oBAAsBpT,EAAIO,EAAM,CAC/DiT,QAAS,CACP,eAAgB,sBAChBM,cAAe,UAAYpC,IAAQC,IAAI,gBAL1B,2CAvML,6DAiNd7C,oBAjNc,uCAiNQ,WAAM9O,GAAN,SAAA9B,EAAA,sEACd,EAAK2V,eADS,gCAEbR,KAAMW,OAAO,EAAKZ,SAAW,oBAAsBpT,EAAI,CAC5DwT,QAAS,CACP,eAAgB,sBAChBM,cAAe,UAAYpC,IAAQC,IAAI,gBALvB,2CAjNR,2DA0NdlD,eA1Nc,uCA0NG,WAAOzO,EAAIO,GAAX,SAAArC,EAAA,sEACT,EAAK2V,eADI,gCAERR,KAAMU,IAAI,EAAKX,SAAW,cAAgBpT,EAAI8R,KAAKyB,UAAUhT,GAAO,CACzEiT,QAAS,CACP,eAAgB,mBAChBM,cAAe,UAAYpC,IAAQC,IAAI,gBAL5B,2CA1NH,6DAoOdkC,aApOc,sBAoOC,sBAAA3V,EAAA,sDACTkO,KAAKiI,OAA2C,KAAjC3C,IAAQC,IAAI,aAAe,MAC5CD,IAAQ/O,OAAO,YAAa,CAAE0F,KAAM,MACpCqJ,IAAQ/O,OAAO,WAAY,CAAE0F,KAAM,MACnCgL,KACGC,KACC,EAAKF,SAAW,iBAChBtB,KAAKyB,UAAU,CACbK,aAAclC,IAAQC,IAAI,kBAE5B,CACE6B,QAAS,CACP,eAAgB,sBAIrBrU,MAAK,SAAAC,GACJsS,IAAQ/O,OAAO,eAAgB,CAC7B0F,KAAM,MAERqJ,IAAQ+B,IAAI,WAAYrU,EAAIE,KAAKC,SAASmU,YAAa,CAAErL,KAAM,MAC/DqJ,IAAQ+B,IAAI,YAAarU,EAAIE,KAAKC,SAASoU,UAAW,CAAEtL,KAAM,MAC9DqJ,IAAQ+B,IAAI,eAAgBrU,EAAIE,KAAKC,SAASqU,aAAc,CAC1DvL,KAAM,SAGTlD,OAAM,SAAAzG,GAAC,OAAIiF,QAAQC,IAAIlF,OA1Bf,2CAnObiB,KAAKkU,gBDITS,IAAStB,OACP,kBAAC7V,EAAD,CAAoB0C,MAAOlC,IACzB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO4W,UAAW/B,OAGtBlP,SAASkR,eAAe,U,iBEhB1BC,EAAOC,QAAU,89H,mBCAjBD,EAAOC,QAAU,IAA0B,wC,iBCA3CD,EAAOC,QAAU,k5J,mBCAjBD,EAAOC,QAAU,IAA0B,+C","file":"static/js/main.5dfacd7b.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./style.css\";\r\n\r\nconst ProcessingSpinner = ({ className = \"\" }) => {\r\n  return (\r\n    <div className=\"lds-css ng-scope\">\r\n      <div className=\"lds-gear\" style={{ width: \"100%\", height: \"100%\" }}>\r\n        <div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProcessingSpinner;\r\n","import React, { Component } from \"react\";\r\nimport ProcessingSpinner from \"./_temp-processing-spinner\";\r\n\r\nexport default class Home extends Component {\r\n  render() {\r\n    return (\r\n      <div style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        fontSize: \"2rem\",\r\n        flexDirection: \"column\"\r\n    }}>\r\n        <div>This section is not available.</div>\r\n        <div>We are working on it.</div>\r\n        <ProcessingSpinner />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import Home from './home';\r\n\r\nexport default Home;","import React, { Component } from 'react';\r\nimport './home.css';\r\nimport NotAvailable from '../../components/_temp-not-available-section';\r\nexport default class Home extends Component {\r\n  render() {\r\n    const styles = {\r\n      margin: '0 auto',\r\n      fontSize: '2rem',\r\n      textAlign: 'center',\r\n      marginBottom: '150px'\r\n    };\r\n    return (\r\n      <div className=\"main-container container bg-white\">\r\n        <div style={styles}>Welcome to mohome!</div>\r\n        <NotAvailable />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nconst {\r\n  Provider: ApiServiceProvider,\r\n  Consumer: ApiServiceConsumer\r\n} = React.createContext();\r\n\r\nexport { ApiServiceProvider, ApiServiceConsumer };\r\n","import React from 'react';\r\nimport { ApiServiceConsumer } from '../../services/api-service-context';\r\n\r\nconst withApiService = mapMethodsToProps => Wrapped => {\r\n  return props => {\r\n    return (\r\n      <ApiServiceConsumer>\r\n        {apiService => {\r\n          const serviceProps = mapMethodsToProps(apiService);\r\n\r\n          return <Wrapped {...props} {...serviceProps} />;\r\n        }}\r\n      </ApiServiceConsumer>\r\n    );\r\n  };\r\n};\r\n\r\nexport default withApiService;\r\n","export default function compose(...funcs) {\r\n  if (funcs.length === 0) {\r\n    return arg => arg;\r\n  }\r\n\r\n  if (funcs.length === 1) {\r\n    return funcs[0];\r\n  }\r\n\r\n  return funcs.reduce((a, b) => (...args) => a(b(...args)));\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./modal-create-album-form.css\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport compose from \"../../helpers/compose\";\r\n\r\nclass ModalCreateAlbumForm extends Component {\r\n  state = {\r\n    title: \"\",\r\n    description: \"\",\r\n    titleValid: true\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    const { title, description } = this.state;\r\n    const { onCloseModal, onUpdateAlbum, history, createAlbum } = this.props;\r\n    if (title.trim()) {\r\n      onCloseModal();\r\n      this.setState({\r\n        title: \"\"\r\n      });\r\n      createAlbum({ name: title, description }).then(res => {\r\n        history.push(`${res.data.response.albumId}`);\r\n        onUpdateAlbum();\r\n      });\r\n    } else\r\n      this.setState({ titleValid: false }, () => {\r\n        setTimeout(() => {\r\n          this.setState({ titleValid: true });\r\n        }, 700);\r\n      });\r\n  };\r\n\r\n  onChange(e, type) {\r\n    this.setState({\r\n      [type]: e.target.value\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { title, description, titleValid } = this.state;\r\n    const { submitBtn } = this.props;\r\n\r\n    return (\r\n      <form className={\"form\"} onSubmit={this.onSubmit}>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"title\">Title</label>\r\n          <input\r\n            id={\"title\"}\r\n            className={`form-control ${titleValid ? \"\" : \"is-invalid\"}`}\r\n            onChange={e => this.onChange(e, \"title\")}\r\n            value={title}\r\n            type={\"text\"}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"description\">Description</label>\r\n          <textarea\r\n            rows={4}\r\n            id={\"description\"}\r\n            className={`form-control`}\r\n            onChange={e => this.onChange(e, \"description\")}\r\n            value={description}\r\n          />\r\n        </div>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"space-between\"\r\n          }}\r\n        >\r\n          <button className={\"ok-btn\"} type={\"submit\"}>\r\n            {submitBtn}\r\n          </button>\r\n          <button className={\"cancel-btn\"} onClick={this.props.onCloseModal}>\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(withRouter)(ModalCreateAlbumForm);\r\n","import React from \"react\";\r\n\r\nconst ConfirmingForm = ({ onConfirm, body, confirmText, onCloseModal }) => {\r\n  return (\r\n    <div>\r\n      {body}\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\"\r\n        }}\r\n      >\r\n        <button\r\n          onClick={() => {\r\n            onConfirm();\r\n            onCloseModal();\r\n          }}\r\n          className={\"ok-btn\"}\r\n          type={\"submit\"}\r\n        >\r\n          {confirmText}\r\n        </button>\r\n        <button className={\"cancel-btn\"} onClick={onCloseModal}>\r\n          Cancel\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConfirmingForm;\r\n","import React, { Component } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport \"./modal.css\";\r\nclass ModalComponent extends Component {\r\n  state = {\r\n    show: false\r\n  };\r\n  handleClose = () => {\r\n    this.setState({ show: false });\r\n  };\r\n\r\n  handleShow = () => {\r\n    this.setState({ show: true });\r\n  };\r\n\r\n  render() {\r\n    const { children, title, className } = this.props;\r\n    const trigger = React.cloneElement(children[0], {\r\n      onClick: this.handleShow\r\n    });\r\n    const body = React.cloneElement(children[1], {\r\n      onCloseModal: this.handleClose\r\n    });\r\n    return (\r\n      <React.Fragment>\r\n        {trigger}\r\n        <Modal\r\n          dialogClassName={className}\r\n          centered\r\n          show={this.state.show}\r\n          onHide={this.handleClose}\r\n        >\r\n          <Modal.Header>\r\n            <Modal.Title>{title}</Modal.Title>\r\n            <div onClick={this.handleClose} className=\"modal-close\">\r\n              <i className=\"zmdi zmdi-close\" />\r\n            </div>\r\n          </Modal.Header>\r\n          <Modal.Body>{body}</Modal.Body>\r\n        </Modal>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ModalComponent;\r\n","import placeholder from '../../img/photo_placeholder.png';\r\nimport { withRouter } from 'react-router-dom';\r\nimport React from 'react';\r\nimport routes from '../../routes';\r\n\r\nconst AlbumItem = ({ title, count, preview, id, history }) => {\r\n  const style = {\r\n    backgroundImage: `url(${\r\n      preview ? `data:${preview.imageType};base64,${preview.image}` : placeholder\r\n    })`\r\n  };\r\n\r\n  return (\r\n    <div onClick={() => history.push(`${id}/`)} className=\"col-2 album\">\r\n      <div\r\n        onClick={e => {\r\n          e.stopPropagation();\r\n          history.push(`${id}/${routes.app.photo.albums.edit.relativePath}`);\r\n        }}\r\n        className=\"album-change\"\r\n      >\r\n        <i className=\"zmdi zmdi-edit\" />\r\n      </div>\r\n      <div className=\"ratio\">\r\n        <div\r\n          style={style}\r\n          className={`ratio__content album-photo-item  ${preview ? '' : 'photos_album_no_cover'}`}\r\n        >\r\n          <div className={`album-info ${preview ? '' : 'album-info-wo_shadow'}`}>\r\n            <span title={title} className={`album-title`}>\r\n              {title}\r\n            </span>\r\n            <span className={'album-count'}>{count}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default withRouter(AlbumItem);\r\n","import React, { Component } from \"react\";\r\nimport \"./drop-area.css\";\r\nclass DropArea extends Component {\r\n  highlight = e => {\r\n    this.dropArea.classList.add(\"highlight\");\r\n  };\r\n  unhighlight = () => {\r\n    this.dropArea.classList.remove(\"highlight\");\r\n  };\r\n  handleDrop = e => {\r\n    let dt = e.dataTransfer;\r\n    let files = dt.files;\r\n    if (files.length) {\r\n      files = Array.from(files);\r\n      files = files.filter(el => /image\\/\\w*/.test(el.type));\r\n      this.props.onUpload(files);\r\n    }\r\n  };\r\n  preventDefaults = e => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  };\r\n\r\n  onUpload = e => {\r\n    let files = e.target.files;\r\n    if (files.length) {\r\n      files = Array.from(files);\r\n      files = files.filter(el => /image\\/\\w*/.test(el.type));\r\n      this.props.onUpload(files);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.dropArea = document.querySelector(\".drop-area-wrap\");\r\n    [\"dragenter\", \"dragover\", \"drop\"].forEach(eventName => {\r\n      document.addEventListener(\r\n        eventName,\r\n        e => {\r\n          this.preventDefaults(e);\r\n        },\r\n        false\r\n      );\r\n    });\r\n    [\"dragenter\", \"dragover\"].forEach(eventName => {\r\n      document.addEventListener(\r\n        eventName,\r\n        () => {\r\n          this.highlight();\r\n        },\r\n        false\r\n      );\r\n    });\r\n    [\"drop\"].forEach(eventName => {\r\n      document.addEventListener(\r\n        eventName,\r\n        () => {\r\n          console.log(eventName);\r\n          this.unhighlight();\r\n        },\r\n        false\r\n      );\r\n    });\r\n    this.dropArea.addEventListener(\r\n      \"drop\",\r\n      e => {\r\n        this.handleDrop(e);\r\n      },\r\n      false\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { id, title, accept, imageUrl } = this.props;\r\n    return (\r\n      <div className=\"drop-area-wrap\">\r\n        <div className=\"drop-area\">\r\n          <div className=\"content\">\r\n            <img src={imageUrl} alt=\"\" />\r\n            <span>{title}</span>\r\n          </div>\r\n          <input\r\n            id={id}\r\n            value={\"\"}\r\n            multiple\r\n            onChange={e => this.onUpload(e)}\r\n            accept={accept}\r\n            className={\"photos-upload-input\"}\r\n            type=\"file\"\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DropArea;\r\n","import React from \"react\";\r\n\r\nconst Breadcrumbs = ({ breadCrumbs }) => {\r\n  return (\r\n    <div className={\"breadcrumbs\"}>\r\n      {breadCrumbs.map((e, i) => {\r\n        if (i !== breadCrumbs.length - 1) {\r\n          return (\r\n            <React.Fragment key={e.text}>\r\n              <div className=\"crumb\">\r\n                <a href={e.link}>{e.text}</a>\r\n              </div>\r\n              <div className={\"crumb-sep\"}>\r\n                <i className=\"zmdi zmdi-chevron-right\" />\r\n              </div>\r\n            </React.Fragment>\r\n          );\r\n        }\r\n        return (\r\n          <React.Fragment key={e.text}>\r\n            <div className={\"crumb\"}>{e.text}</div>\r\n          </React.Fragment>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Breadcrumbs;\r\n","import React, { Component } from 'react';\r\nimport DropArea from '../drop-area';\r\nimport { withRouter } from 'react-router-dom';\r\nimport BreadCrumbs from './breadcrumbs';\r\nimport dropUploadImg from '../../img/drop_upload.png';\r\n\r\n// import \"./main.css\";\r\n\r\nclass AlbumNavigation extends Component {\r\n  _isMounted = false;\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  render() {\r\n    const { rightContent, breadCrumbs, onUpload } = this.props;\r\n\r\n    return (\r\n      <div className=\"albums-bar  left-right-bar\">\r\n        <DropArea\r\n          id={'imageDnd'}\r\n          title={'Upload photos'}\r\n          imageUrl={dropUploadImg}\r\n          onUpload={onUpload}\r\n          accept={'image/*'}\r\n        />\r\n\r\n        <div className=\"albums-bar-left\">\r\n          <BreadCrumbs breadCrumbs={breadCrumbs} />\r\n        </div>\r\n        <div className=\"albums-bar-right\">{rightContent}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(AlbumNavigation);\r\n","import React, { Component } from 'react';\r\nimport { withApiService } from '../hoc';\r\n\r\nclass PhotoEditor extends Component {\r\n  state = {\r\n    description: '',\r\n    isFocused: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { description } = this.props;\r\n    if (description) this.setState({ description });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { description } = this.props;\r\n    if (description != prevProps.description) this.setState({ description });\r\n  }\r\n\r\n  onChange = e => {\r\n    e.preventDefault();\r\n    if (e.target.value.length > 100) return;\r\n    this.setState({ description: e.target.value });\r\n    const { changePhotoDescription, photoName } = this.props;\r\n    changePhotoDescription(photoName, { description: e.target.value })\r\n      .then(res => {\r\n        this.forceUpdate();\r\n      })\r\n      .catch(err => console.log(err.response));\r\n  };\r\n\r\n  render() {\r\n    const { description, isFocused } = this.state;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <input\r\n          onFocus={() => this.setState({ isFocused: true })}\r\n          onBlur={() => this.setState({ isFocused: false })}\r\n          className={this.props.className}\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          value={description}\r\n          placeholder={'Add a description...'}\r\n          size={description.length}\r\n        />\r\n        {isFocused ? (\r\n          <div style={{ textAlign: 'center' }}>{`${description.length} of 100 symbols`}</div>\r\n        ) : null}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapMethodToProps = service => {\r\n  return {\r\n    changePhotoDescription: service.changePhotoDescription\r\n  };\r\n};\r\n\r\nexport default withApiService(mapMethodToProps)(PhotoEditor);\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { withApiService } from \"../hoc\";\r\nimport compose from \"../../helpers/compose\";\r\nimport { ConfirmingForm } from \"../forms\";\r\nimport Modal from \"../modal\";\r\nimport PhotoEditor from \"./photo-editor\";\r\nimport routes from \"../../routes\"\r\n\r\nclass PhotoItem extends Component {\r\n  state = {\r\n    photo: {}\r\n  };\r\n  _isMounted = false;\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n    const { getPhoto, photo } = this.props;\r\n\r\n    if (this._isMounted) this.setState({ photo });\r\n\r\n    getPhoto(photo.name, true).then(res => {\r\n      const image = res.data.response;\r\n      const newPhoto = {\r\n        image: `data:${image.imageType};base64,${image.image}`,\r\n        name: photo.name,\r\n        created: image.created,\r\n        description: image.description\r\n      };\r\n      if (this._isMounted) this.setState({ photo: newPhoto });\r\n    }).catch((err)=>console.log(err));\r\n  }\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return this.state.photo !== nextState.photo;\r\n  }\r\n\r\n  onOpen = (currPhoto, photos, index, albumId) => {\r\n    const { history } = this.props;\r\n\r\n    history.push(`${routes.app.photo.slider.relativePath}/${currPhoto.name}`, {\r\n      modal: true,\r\n      currentName: currPhoto.name,\r\n      index,\r\n      albumId\r\n    });\r\n  };\r\n\r\n  onPhotoDelete = name => {\r\n    const { deletePhoto } = this.props;\r\n\r\n    deletePhoto(name)\r\n      .then()\r\n      .catch()\r\n      .finally(() => this.props.onDelete(name));\r\n  };\r\n  render() {\r\n    const {\r\n      photos,\r\n      index,\r\n      isSelecting,\r\n      onSelect,\r\n      onCloseModal,\r\n      isEditing,\r\n      albumId\r\n    } = this.props;\r\n\r\n    const { image, name, description } = this.state.photo;\r\n\r\n    const style = {\r\n      backgroundImage: `url(${image})`,\r\n      borderRadius: `${!isEditing ? \"5px 5px 5px 5px\" : \"5px 5px 0 0\"} `\r\n    };\r\n\r\n    return (\r\n      <div className=\"col-2 album\">\r\n        {isSelecting ? null : (\r\n          <Modal title={\"Delete photo\"}>\r\n            <div className={\"album-change\"}>\r\n              <i className=\"zmdi zmdi-close\" />\r\n            </div>\r\n            <ConfirmingForm\r\n              body={<p>Are you sure you want to delete this photo?</p>}\r\n              confirmText={\"Delete photo\"}\r\n              onConfirm={() => this.onPhotoDelete(name)}\r\n            />\r\n          </Modal>\r\n        )}\r\n\r\n        <div className=\"ratio\">\r\n          <div\r\n            onClick={() => {\r\n              if (isSelecting) {\r\n                onSelect(name);\r\n                onCloseModal();\r\n              } else {\r\n                this.onOpen(this.state.photo, photos, index, albumId);\r\n              }\r\n            }}\r\n            className={`ratio__content album-photo-item`}\r\n            style={style}\r\n          />\r\n        </div>\r\n        {isEditing ? (\r\n          <PhotoEditor\r\n            className={\"photo-edit-input\"}\r\n            description={description}\r\n            photoName={name}\r\n          />\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapMethodToProps = service => {\r\n  return {\r\n    getPhoto: service.getPhoto,\r\n    deletePhoto: service.deletePhoto\r\n  };\r\n};\r\nexport default compose(\r\n  withApiService(mapMethodToProps),\r\n  withRouter\r\n)(PhotoItem);\r\n","import React from 'react';\r\nimport PhotoItem from './photo-item';\r\nimport { withApiService } from '../hoc';\r\n\r\nclass PhotoList extends React.PureComponent {\r\n  state = {\r\n    photos: []\r\n  };\r\n\r\n  _isMounted = false;\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n    const { photos } = this.props;\r\n    if (photos) this.setState({ photos });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { photos } = this.props;\r\n    if (prevProps.photos.length !== photos.length) {\r\n      if (photos) this.setState({ photos });\r\n    }\r\n  }\r\n\r\n  onPhotoDelete = name => {\r\n    const idx = this.state.photos.findIndex(item => item.name === name);\r\n    const newPhotos = [\r\n       ...this.state.photos.slice(0, idx),\r\n       ...this.state.photos.slice(idx + 1)\r\n    ];\r\n    this.setState({ photos: newPhotos });\r\n    if (this.props.onPhotoDeleted) this.props.onPhotoDeleted();\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      isEditing = false,\r\n      isSelecting = false,\r\n      onSelect,\r\n      onCloseModal,\r\n      photos: photosLinks,\r\n      albumId\r\n    } = this.props;\r\n    const { photos } = this.state.photos.length > 0 ? this.state : this.props;\r\n    return (\r\n      <div className=\"albums-container\">\r\n        <div className=\"albums-panel\">\r\n          {photos.length > 0 ? (\r\n            <div className={'container'}>\r\n              <div className={'row'}>\r\n                {photos.map((e, i) => (\r\n                  <React.Fragment key={e.name}>\r\n                    <PhotoItem\r\n                      onCloseModal={onCloseModal}\r\n                      isSelecting={isSelecting}\r\n                      onSelect={onSelect}\r\n                      index={i}\r\n                      photo={e}\r\n                      photos={photosLinks}\r\n                      isEditing={isEditing}\r\n                      onDelete={this.onPhotoDelete}\r\n                      albumId={albumId}\r\n                    />\r\n                  </React.Fragment>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className={'container'}>\r\n              <div className={'row'}>\r\n                <div className={'col-2 album-photo-empty'}>\r\n                  <div className=\"ratio\">\r\n                    <div className={'ratio__content'}>No photos here yet...</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapMethodToProps = service => {\r\n  return {\r\n    getPhoto: service.getPhoto\r\n  };\r\n};\r\n\r\nexport default withApiService(mapMethodToProps)(PhotoList);\r\n","import React, { Component } from 'react';\r\nimport './main-photo-view.css';\r\nimport { withApiService } from '../../components/hoc';\r\nimport { CreateAlbumForm } from '../../components/forms';\r\nimport Modal from '../../components/modal';\r\nimport AlbumItem from '../../components/photo/album-item';\r\nimport AlbumNavigation from '../../components/photo/album-navigation';\r\nimport PhotoList from '../../components/photo/photo-list';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport routes from '../../routes';\r\n\r\nclass MainView extends Component {\r\n  state = {\r\n    album: [],\r\n    photos: [],\r\n    albumCovers: {},\r\n    isExpanded: false\r\n  };\r\n\r\n  _isMounted = false;\r\n\r\n  onExpandToggle = () => {\r\n    this.setState(state => {\r\n      return { isExpanded: !state.isExpanded };\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this._updateAlbums();\r\n    this._isMounted = true;\r\n  }\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  _updateAlbums = () => {\r\n    const { getAlbums, getPhoto, getPhotosByAlbumId } = this.props;\r\n\r\n    getAlbums().then(res => {\r\n      if (this._isMounted) this.setState({ album: res.data.response });\r\n      const albums = this.state.album;\r\n\r\n      for (let i = 0; i < albums.length; i++)\r\n        if (albums[i].coverPhotoName)\r\n          getPhoto(albums[i].coverPhotoName, true)\r\n            .then(res => {\r\n              const newCover = { ...this.state.albumCovers };\r\n              newCover[albums[i].albumId] = res.data.response;\r\n              if (this._isMounted) this.setState({ albumCovers: newCover });\r\n            })\r\n            .catch(err => console.log(err));\r\n        else {\r\n          const newCover = { ...this.state.albumCovers };\r\n          newCover[albums[i].albumId] = null;\r\n          if (this._isMounted) this.setState({ albumCovers: newCover });\r\n        }\r\n    });\r\n    getPhotosByAlbumId(null, 0)\r\n      .then(res => {\r\n        if (this._isMounted)\r\n          this.setState({\r\n            photoCount: res.data.response.length,\r\n            photos: res.data.response\r\n          });\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  onUpload = async files => {\r\n    const { history } = this.props;\r\n\r\n    history.push(routes.app.photo.upload.relativePath, {\r\n      files,\r\n      breadCrumbs: [\r\n        {\r\n          text: `My photos`,\r\n          link: routes.app.photo.main.path\r\n        },\r\n        {\r\n          text: 'Add photos'\r\n        }\r\n      ]\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { album, isExpanded, photos, photoCount, albumCovers } = this.state;\r\n    const breadCrumbs = [\r\n      {\r\n        text: `My albums ${album.length}`,\r\n        link: routes.app.photo.main.path\r\n      }\r\n    ];\r\n\r\n    return (\r\n      <div>\r\n        <AlbumNavigation\r\n          onUpload={this.onUpload}\r\n          breadCrumbs={breadCrumbs}\r\n          rightContent={\r\n            <React.Fragment>\r\n              <Modal title={'New album'}>\r\n                <div className=\"add-album-button\">\r\n                  <i className=\"zmdi zmdi-collection-folder-image zmdi-hc-lg\" /> New album\r\n                </div>\r\n                <CreateAlbumForm\r\n                  submitBtn={'Create album'}\r\n                  createAlbum={this.props.createAlbum}\r\n                  onUpdateAlbum={this._updateAlbums}\r\n                />\r\n              </Modal>\r\n              <div className=\"add-photos-button\">\r\n                <i className=\"zmdi zmdi-camera-add zmdi-hc-lg\" /> Add photos\r\n                <label className={'uploadBtn'} htmlFor={'imageDnd'} />\r\n              </div>\r\n            </React.Fragment>\r\n          }\r\n        />\r\n        <div className=\"albums-container\">\r\n          <div className={`albums-panel ${album.length > 5 ? 'able-to-expanded' : ''}`}>\r\n            {album.length > 0 ? (\r\n              <div className=\"container\">\r\n                <div className=\"row\">\r\n                  {album.slice(0, 5).map((e, i) => (\r\n                    <AlbumItem\r\n                      key={e.albumId}\r\n                      title={e.name}\r\n                      preview={albumCovers[e.albumId]}\r\n                      id={e.albumId}\r\n                      count={e.photoCount}\r\n                      description={e.description}\r\n                    />\r\n                  ))}\r\n                  {isExpanded\r\n                    ? album\r\n                        .slice(5)\r\n                        .map((e, i) => (\r\n                          <AlbumItem\r\n                            key={e.albumId}\r\n                            title={e.name}\r\n                            preview={albumCovers[e.albumId]}\r\n                            id={e.albumId}\r\n                            count={e.photoCount}\r\n                            description={e.description}\r\n                          />\r\n                        ))\r\n                    : null}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className={'container'}>\r\n                <div className={'row'}>\r\n                  <div className={'col-2 album-photo-empty'}>\r\n                    <div className=\"ratio\" />\r\n                  </div>\r\n                  <div className={'centered-block'}>No albums here yet...</div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n          {album.length > 5 ? (\r\n            <div\r\n              onClick={this.onExpandToggle}\r\n              title={isExpanded ? 'Hide' : 'Expand'}\r\n              className=\"album-expand-btn\"\r\n            >\r\n              <span className={'expand-text'}>\r\n                {isExpanded ? <div>Show less</div> : <div>Show more</div>}\r\n              </span>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n\r\n        <div className=\"left-right-bar\">\r\n          <div className=\"albums-bar-left\">My photos {photoCount}</div>\r\n        </div>\r\n        <PhotoList onPhotoDeleted={this._updateAlbums} photos={photos} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapMethodToProps = service => {\r\n  return {\r\n    getAlbums: service.getAlbums,\r\n    createAlbum: service.createAlbum,\r\n    getPhoto: service.getPhoto,\r\n    uploadPhoto: service.uploadPhoto,\r\n    getPhotosByAlbumId: service.getPhotosByAlbumId,\r\n    deletePhoto: service.deletePhoto\r\n  };\r\n};\r\n\r\nexport default withApiService(mapMethodToProps)(MainView);\r\n","import React, { Component } from 'react';\r\n\r\nimport AlbumNavigation from '../../components/photo/album-navigation';\r\nimport { withApiService } from '../../components/hoc';\r\nimport PhotoList from '../../components/photo/photo-list';\r\n\r\nclass AddPhotos extends Component {\r\n  state = {\r\n    previewPhoto: [],\r\n    photos: [],\r\n    progressBar: 0,\r\n    isLoading: false,\r\n    toLoading: 0\r\n  };\r\n\r\n  _isMounted = false;\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n    const { files } = this.props;\r\n    if (files) this.onUpload(files);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  onUpload = async files => {\r\n    const { albumId, uploadPhoto } = this.props;\r\n    if (this._isMounted)\r\n      this.setState({\r\n        progressBar: 0,\r\n        isLoading: true,\r\n        toLoading: files.length\r\n      });\r\n    for (let i = 0; i < files.length; i++) {\r\n      const formData = new FormData();\r\n      formData.append('Photo', files[i]);\r\n      if (albumId) formData.append('AlbumId', albumId);\r\n\r\n      await uploadPhoto(formData)\r\n        .then(res => {\r\n          if (this._isMounted)\r\n            this.setState(prevState => {\r\n              return {\r\n                progressBar: prevState.progressBar + 1,\r\n                isLoading: prevState.progressBar + 1 !== prevState.toLoading,\r\n                photos: [...prevState.photos, { name: res.data.response.fileName }]\r\n              };\r\n            });\r\n        })\r\n        .catch(err => console.log(err.response));\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { isLoading, progressBar, toLoading } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <AlbumNavigation\r\n          rightContent={\r\n            !isLoading ? (\r\n              <div className=\"add-photos-button\">\r\n                <i className=\"zmdi zmdi-camera-add zmdi-hc-lg\" /> Add photos\r\n                <label htmlFor={'imageDnd'} />\r\n              </div>\r\n            ) : (\r\n              <div className=\"add-photos-button\">\r\n                <progress value={progressBar} max={toLoading} />\r\n                <div\r\n                  style={{\r\n                    textAlign: 'center',\r\n                    position: 'absolute',\r\n                    width: '100%',\r\n                    left: '50%',\r\n                    top: '80%',\r\n                    transform: 'translate(-50%, 0)'\r\n                  }}\r\n                >{`${progressBar} of ${toLoading} loaded`}</div>\r\n              </div>\r\n            )\r\n          }\r\n          onUpload={this.onUpload}\r\n          breadCrumbs={this.props.breadCrumbs}\r\n        />\r\n        <PhotoList isEditing photos={this.state.photos} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapMethodToProps = service => {\r\n  return {\r\n    uploadPhoto: service.uploadPhoto\r\n  };\r\n};\r\n\r\nexport default withApiService(mapMethodToProps)(AddPhotos);\r\n","import React from \"react\";\r\nimport \"./spinner.css\";\r\n\r\nconst Spinner = ({ className = \"\" }) => {\r\n  return (\r\n    <div className={`${className} lds-css ng-scope`}>\r\n      <div style={{ width: \"100%\", height: \"100%\" }} className=\"lds-rolling\">\r\n        <div />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","export default class Idle {\r\n  constructor(\r\n    timeout = 2,\r\n    idleCallback = null,\r\n    backToActiveCallback = null,\r\n    autoStart = true,\r\n    backToActiveOnXHR = false\r\n  ) {\r\n    this.timeout = timeout;\r\n    this.idleCallback = idleCallback;\r\n    this.backToActiveCallback = backToActiveCallback;\r\n    this.autoStart = autoStart;\r\n    this.backToActiveOnXHR = backToActiveOnXHR;\r\n    this.idle = false;\r\n    this.timer = null;\r\n    this.events = [\r\n      \"scroll\",\r\n      \"mousedown\",\r\n      \"mousemove\",\r\n      \"keypress\",\r\n      \"scroll\",\r\n      \"touchstart\"\r\n    ];\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    if (this.backToActiveOnXHR) {\r\n      this.events.push(\"load\");\r\n    }\r\n    this.events.forEach(name => {\r\n      window.addEventListener(name, this.backToActive, true);\r\n    });\r\n    if (this.autoStart) {\r\n      this.backToActive();\r\n    }\r\n  }\r\n\r\n  goIdle = () => {\r\n    this.idle = true;\r\n    if (!!this.idleCallback) {\r\n      this.idleCallback(this.timeout);\r\n    }\r\n  };\r\n\r\n  backToActive = () => {\r\n    if (this.idle) {\r\n      this.backToActiveCallback();\r\n    }\r\n    this.idle = false;\r\n    clearTimeout(this.timer);\r\n    this.timer = setTimeout(this.goIdle, this.timeout * 1000);\r\n  };\r\n}\r\n","const serialize = function(obj, prefix) {\r\n  let str = [];\r\n  let p;\r\n\r\n  for (p in obj) {\r\n    if (obj.hasOwnProperty(p)) {\r\n      let k = prefix ? prefix + \"[\" + p + \"]\" : p;\r\n      let v = obj[p];\r\n\r\n      str.push(\r\n        v !== null && typeof v === \"object\"\r\n          ? serialize(v, k)\r\n          : encodeURIComponent(k) +\r\n              \"=\" +\r\n              (Number.isInteger(v) ? encodeURIComponent(v) : \"\")\r\n      );\r\n    }\r\n  }\r\n  return str.join(\"&\");\r\n};\r\n\r\nexport default serialize;\r\n","import React, { Component } from \"react\";\r\nimport PhotoEditor from \"../../components/photo/photo-editor\";\r\nimport { withApiService } from \"../../components/hoc\";\r\nimport { ConfirmingForm } from \"../../components/forms\";\r\nimport Modal from \"../../components/modal\";\r\nimport Spinner from \"../../components/spinner\";\r\nimport { Idle } from \"../../helpers\";\r\n\r\nimport \"./photo-slider.css\";\r\n\r\nclass PhotoSlider extends Component {\r\n  state = {\r\n    photos: [],\r\n    currentItem: {},\r\n    currentIndex: 0,\r\n    currentName: \"\",\r\n    isLoading: false,\r\n    albumId: null,\r\n    isIdle: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { currentName, index, albumId } = this.props.location.state;\r\n    this.setState(\r\n      {\r\n        currentIndex: index,\r\n        currentName,\r\n        albumId\r\n      },\r\n      async () => {\r\n        await this.props\r\n          .getPhotosByAlbumId({ albumId: +albumId })\r\n          .then(res => {\r\n            this.setState({\r\n              photoCount: res.data.response.length,\r\n              photos: res.data.response\r\n            });\r\n          })\r\n          .catch(err => console.log(err));\r\n        this._updateSlide();\r\n      }\r\n    );\r\n    this.idle = new Idle(\r\n      2,\r\n      () => this.setState({ isIdle: true }),\r\n      () => this.setState({ isIdle: false })\r\n    );\r\n    window.addEventListener(\"keyup\", this.handleArrowClick);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keyup\", this.handleArrowClick);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    const { photos, currentName, index } = this.props.location.state;\r\n    if (currentName !== prevProps.location.state.currentName) {\r\n      this.setState(() => {\r\n        return {\r\n          photos,\r\n          currentIndex: index,\r\n          currentName\r\n        };\r\n      }, this._updateSlide);\r\n    }\r\n  }\r\n\r\n  _updateSlide = () => {\r\n    const { getPhoto } = this.props;\r\n    const { currentName } = this.state;\r\n    this.setState({ isLoading: true });\r\n    getPhoto(currentName)\r\n      .then(res => {\r\n        this.setState({\r\n          currentItem: res.data.response,\r\n          isAllowedClick: true\r\n        });\r\n      })\r\n      .catch(err => console.log(err))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  handleArrowClick = e => {\r\n    if (e.which === 37) this.goToPrevSlide();\r\n    else if (e.which === 39) this.goToNextSlide();\r\n  };\r\n\r\n  goToPrevSlide = () => {\r\n    if (this.state.isAllowedClick) {\r\n      const { currentIndex, photos } = this.state;\r\n      let newIndex = currentIndex;\r\n\r\n      if (currentIndex === 0) newIndex = photos.length - 1;\r\n      else newIndex--;\r\n      this.setState(() => {\r\n        return { isAllowedClick: false };\r\n      });\r\n      this.props.history.replace(`${photos[newIndex].name}`, {\r\n        modal: true,\r\n        photos,\r\n        index: newIndex,\r\n        currentName: photos[newIndex].name\r\n      });\r\n    }\r\n  };\r\n\r\n  goToNextSlide = () => {\r\n    if (this.state.isAllowedClick) {\r\n      const { currentIndex, photos } = this.state;\r\n      let newIndex = currentIndex;\r\n\r\n      if (currentIndex === photos.length - 1) newIndex = 0;\r\n      else newIndex++;\r\n\r\n      this.setState(() => {\r\n        return { isAllowedClick: false };\r\n      });\r\n      this.props.history.replace(`${photos[newIndex].name}`, {\r\n        modal: true,\r\n        photos,\r\n        index: newIndex,\r\n        currentName: photos[newIndex].name\r\n      });\r\n    }\r\n  };\r\n\r\n  onPhotoDelete = name => {\r\n    const { deletePhoto, history } = this.props;\r\n    deletePhoto(name)\r\n      .then(() => {\r\n        history.goBack();\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  render() {\r\n    const { history } = this.props;\r\n    const {\r\n      currentIndex,\r\n      photos,\r\n      currentItem,\r\n      isLoading,\r\n      isAllowedClick,\r\n      currentName,\r\n      isIdle\r\n    } = this.state;\r\n    const description = currentItem.description || \"\";\r\n    const created = currentItem ? currentItem.created : null;\r\n    const name = photos.length ? photos[currentIndex].name : null;\r\n    const idleClassName = isIdle ? \"idle\" : \"\";\r\n    return (\r\n      <div className={`slider-wrapper ${isIdle ? \"nocursor\" : \"\"}`}>\r\n        <div onClick={history.goBack} className=\"slider-overlay\" />\r\n        <div\r\n          className={`slider-arrow slider-arrow__left ${idleClassName}`}\r\n          onClick={() => this.goToPrevSlide()}\r\n        >\r\n          <i className=\"zmdi zmdi-chevron-left\" />\r\n        </div>\r\n        <div\r\n          className={`slider-arrow slider-arrow__right ${idleClassName}`}\r\n          onClick={this.goToNextSlide}\r\n        >\r\n          <i className=\"zmdi zmdi-chevron-right\" />\r\n        </div>\r\n        <button\r\n          className={`slider-close  ${idleClassName}`}\r\n          onClick={history.goBack}\r\n        >\r\n          <i className={\"zmdi zmdi-close\"} />\r\n        </button>\r\n        {isLoading ? (\r\n          <Spinner className={\"slider\"} />\r\n        ) : (\r\n          <img\r\n            className={\"slider\"}\r\n            src={\r\n              currentItem\r\n                ? `data:${currentItem.imageType};base64,${currentItem.image}`\r\n                : null\r\n            }\r\n            alt=\"\"\r\n          />\r\n        )}\r\n\r\n        {isAllowedClick && (\r\n          <div className={`slider-photo-description  ${idleClassName}`}>\r\n            <PhotoEditor\r\n              className={\"slide-edit-input\"}\r\n              photoName={name}\r\n              description={description}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {created ? (\r\n          <div className={`slider-photo-created  ${idleClassName}`}>\r\n            {beautifyDate(created)}\r\n          </div>\r\n        ) : null}\r\n        <div\r\n          className={`slider-photo-countOfPhoto  ${idleClassName}`}\r\n        >{`Photo ${currentIndex + 1} of ${photos.length}`}</div>\r\n        <div className=\"dropdown\">\r\n          <button\r\n            type=\"button\"\r\n            className={`dropdown-slider-btn  ${idleClassName}`}\r\n          >\r\n            <i className=\"zmdi zmdi-more-vert\" />\r\n          </button>\r\n          <div className=\"dropdown-slider-content\">\r\n            <Modal title={\"Delete photo\"}>\r\n              <div className=\"slider-photo-delete dropdown-item\">Delete</div>\r\n              <ConfirmingForm\r\n                body={<p>Are you sure you want to delete this photo?</p>}\r\n                confirmText={\"Delete photo\"}\r\n                onConfirm={() => this.onPhotoDelete(name)}\r\n              />\r\n            </Modal>\r\n            <a\r\n              href={`data:${currentItem.imageType};base64,${currentItem.image}`}\r\n              download={currentName}\r\n            >\r\n              <div className={\"dropdown-item\"}>Save as...</div>\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction beautifyDate(date) {\r\n  const d = new Date(date);\r\n  return `${d.toLocaleDateString()} at ${d.toLocaleTimeString()}`;\r\n}\r\nconst mapMethodToProps = service => {\r\n  return {\r\n    getPhoto: service.getPhoto,\r\n    deletePhoto: service.deletePhoto,\r\n    getPhotosByAlbumId: service.getPhotosByAlbumId\r\n  };\r\n};\r\n\r\nexport default withApiService(mapMethodToProps)(PhotoSlider);\r\n","import React, { Component } from 'react';\r\nimport AlbumNavigation from '../../components/photo/album-navigation';\r\nimport { withApiService } from '../../components/hoc';\r\nimport PhotoList from '../../components/photo/photo-list';\r\nimport { Link } from 'react-router-dom';\r\nimport routes from '../../routes';\r\n\r\nclass PhotoAlbum extends Component {\r\n  state = {\r\n    photos: [],\r\n    albumInfo: null,\r\n    photoCount: 0\r\n  };\r\n  _isMounted = false;\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n    this._updateAlbum();\r\n  }\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  _updateAlbum = () => {\r\n    const { getPhotosByAlbumId, getAlbumInfo, albumId } = this.props;\r\n    getPhotosByAlbumId({ albumId: +albumId })\r\n      .then(res => {\r\n        if (this._isMounted)\r\n          this.setState({\r\n            albumInfo: res.data.response,\r\n            photos: res.data.response\r\n          });\r\n      })\r\n      .catch(err => console.log(err));\r\n\r\n    getAlbumInfo(albumId)\r\n      .then(res => {\r\n        const { name, description, photoCount } = res.data.response;\r\n        if (this._isMounted)\r\n          this.setState({\r\n            albumTitle: name,\r\n            description: description,\r\n            photoCount\r\n          });\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  onUpload = async files => {\r\n    const { albumId, history } = this.props;\r\n\r\n    history.push(routes.app.photo.upload.relativePath, {\r\n      albumId,\r\n      files,\r\n      breadCrumbs: [\r\n        {\r\n          text: `My photos`,\r\n          link: routes.app.photo.main.path\r\n        },\r\n        {\r\n          text: `${this.state.albumTitle}`,\r\n          link: `${routes.app.photo.main.path}${albumId}/`\r\n        },\r\n        {\r\n          text: 'Add photos'\r\n        }\r\n      ]\r\n    });\r\n  };\r\n  render() {\r\n    const { albumId } = this.props;\r\n    const { photos, photoCount, albumTitle, description } = this.state;\r\n    const breadCrumbs = [\r\n      {\r\n        text: `My photos`,\r\n        link: routes.app.photo.main.path\r\n      },\r\n      {\r\n        text: `${albumTitle} ${photoCount ? photoCount : ''}`\r\n      }\r\n    ];\r\n\r\n    return (\r\n      <div>\r\n        <AlbumNavigation\r\n          rightContent={\r\n            <div className=\"add-photos-button\">\r\n              <i className=\"zmdi zmdi-camera-add zmdi-hc-lg\" /> Add photos\r\n              <label htmlFor={'imageDnd'} />\r\n            </div>\r\n          }\r\n          onUpload={this.onUpload}\r\n          breadCrumbs={breadCrumbs}\r\n        />\r\n        <div className=\"photos_album_intro\">\r\n          <div className={'photos_album_intro__title'}>{albumTitle}</div>\r\n          <div className={'photos_album_intro__description'}>{description}</div>\r\n          <div className={'photos_album_intro__photo-count'}>{photoCount} photos</div>\r\n          <div>\r\n            <Link style={{ textAlign: 'center' }} to={routes.app.photo.albums.edit.relativePath}>\r\n              Edit album\r\n            </Link>\r\n          </div>\r\n        </div>\r\n        <PhotoList albumId={albumId} onPhotoDeleted={this._updateAlbum} photos={photos} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapMethodToProps = service => {\r\n  return {\r\n    getPhotosByAlbumId: service.getPhotosByAlbumId,\r\n    getAlbumInfo: service.getAlbumInfo\r\n  };\r\n};\r\n\r\nexport default withApiService(mapMethodToProps)(PhotoAlbum);\r\n","import React, { Component } from 'react';\r\nimport placeholder from '../../img/photo_placeholder.png';\r\nimport AlbumNavigation from '../../components/photo/album-navigation';\r\nimport { withApiService } from '../../components/hoc';\r\nimport PhotoList from '../../components/photo/photo-list';\r\nimport { ConfirmingForm } from '../../components/forms';\r\nimport Modal from '../../components/modal';\r\nimport routes from '../../routes';\r\nclass EditPhotoAlbum extends Component {\r\n  state = {\r\n    coverPhotoName: null,\r\n    description: '',\r\n    title: '',\r\n    photos: [],\r\n    titleValid: true,\r\n    coverPreview: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    this._updateAlbum();\r\n  }\r\n\r\n  _updateAlbum = async () => {\r\n    const { getAlbumInfo, albumId, getPhotosByAlbumId } = this.props;\r\n    getAlbumInfo(albumId)\r\n      .then(res => {\r\n        const { coverPhotoName, description, name } = res.data.response;\r\n        this.setCoverPreview(coverPhotoName);\r\n        this.setState({ coverPhotoName, description, title: name });\r\n      })\r\n      .catch(err => console.log(err));\r\n\r\n    getPhotosByAlbumId({ albumId: +albumId })\r\n      .then(res => {\r\n        this.setState({ photos: res.data.response });\r\n      })\r\n      .catch(err => console.log(err.response));\r\n  };\r\n\r\n  setCoverPreview = name => {\r\n    const { getPhoto } = this.props;\r\n    getPhoto(name)\r\n      .then(res => {\r\n        const image = res.data.response;\r\n        this.setState({\r\n          coverPreview: `data:${image.imageType};base64,${image.image}`\r\n        });\r\n      })\r\n      .catch(err => this.setState({ coverPreview: null }));\r\n  };\r\n\r\n  onSubmit = () => {\r\n    const { description, title, coverPhotoName } = this.state;\r\n    const { albumId } = this.props;\r\n    this.props\r\n      .changeAlbum(albumId, {\r\n        description,\r\n        albumName: title,\r\n        coverPhotoName\r\n      })\r\n      .then(res => this._updateAlbum())\r\n      .catch(err => console.log(err.response));\r\n  };\r\n\r\n  onChange(e, type) {\r\n    this.setState({\r\n      [type]: e.target.value\r\n    });\r\n  }\r\n\r\n  onAlbumDelete = () => {\r\n    const { deleteAlbum, albumId, history } = this.props;\r\n    deleteAlbum(albumId).then(() => history.push(routes.app.photo.main.path));\r\n  };\r\n\r\n  onUpload = async files => {\r\n    const { albumId, history } = this.props;\r\n    history.push(routes.app.photo.upload.relativePath, {\r\n      albumId,\r\n      files,\r\n      breadCrumbs: [\r\n        {\r\n          text: `My photos`,\r\n          link: routes.app.photo.main.path\r\n        },\r\n        {\r\n          text: `${this.state.title}`,\r\n          link: `${routes.app.photo.main.path}${this.props.albumId}/`\r\n        },\r\n        {\r\n          text: 'Add photos'\r\n        }\r\n      ]\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { title, description, titleValid, photos, coverPreview } = this.state;\r\n    const breadCrumbs = [\r\n      {\r\n        text: `My photos`,\r\n        link: routes.app.photo.main.path\r\n      },\r\n      {\r\n        text: `${this.state.title}`,\r\n        link: `${routes.app.photo.main.path}${this.props.albumId}/`\r\n      },\r\n      {\r\n        text: 'Manage album'\r\n      }\r\n    ];\r\n    return (\r\n      <div>\r\n        <AlbumNavigation\r\n          rightContent={\r\n            <Modal title={'Delete album'}>\r\n              <div className=\"\">\r\n                <div className={'delete-album'}>\r\n                  <i className=\"zmdi zmdi-delete zmdi-hc-lg\" /> Delete album\r\n                  <label htmlFor={'imageDnd'} />\r\n                </div>\r\n              </div>\r\n              <ConfirmingForm\r\n                body={<p>Are you sure you want to delete this album?</p>}\r\n                confirmText={'Delete album'}\r\n                onConfirm={this.onAlbumDelete}\r\n              />\r\n            </Modal>\r\n          }\r\n          onUpload={this.onUpload}\r\n          breadCrumbs={breadCrumbs}\r\n        />\r\n\r\n        <div className={'edit-album-wrap'}>\r\n          <div className={'edit-album-wrap__cover'}>\r\n            <div className={'edit-album_wrap__label'}>Use as album cover</div>\r\n            <div\r\n              className={`edit-album-wrap__image ${coverPreview ? '' : 'placeholder'}`}\r\n              style={{\r\n                backgroundImage: `url(${coverPreview ? coverPreview : placeholder})`\r\n              }}\r\n            >\r\n              <Modal\r\n                className={'edit-album-modal'}\r\n                title={`Choose a cover for the album «${title}»`}\r\n              >\r\n                <div className=\"edit-album-cover-trigger\">\r\n                  <div className={'delete-album'}>\r\n                    <span>\r\n                      <i className=\"zmdi zmdi-image zmdi-hc-lg\" />\r\n                      Edit cover\r\n                    </span>\r\n                    <label htmlFor={'imageDnd'} />\r\n                  </div>\r\n                </div>\r\n                <PhotoList\r\n                  isSelecting\r\n                  onSelect={coverPhotoName => {\r\n                    this.setState({ coverPhotoName });\r\n                    this.setCoverPreview(coverPhotoName);\r\n                  }}\r\n                  photos={photos}\r\n                />\r\n              </Modal>\r\n            </div>\r\n          </div>\r\n          <div className=\"edit-album-wrap__form\">\r\n            <form className={'form'} onSubmit={this.onSubmit}>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"title\">Title</label>\r\n                <input\r\n                  id={'title'}\r\n                  className={`form-control ${titleValid ? '' : 'is-invalid'}`}\r\n                  onChange={e => this.onChange(e, 'title')}\r\n                  value={title}\r\n                  type={'text'}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"description\">Description</label>\r\n                <textarea\r\n                  rows={4}\r\n                  id={'description'}\r\n                  className={`form-control`}\r\n                  onChange={e => this.onChange(e, 'description')}\r\n                  value={description}\r\n                />\r\n              </div>\r\n              <div\r\n                style={{\r\n                  display: 'flex',\r\n                  justifyContent: 'space-between'\r\n                }}\r\n              >\r\n                <button className={'ok-btn'} type={'submit'}>\r\n                  Save changes\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n        <PhotoList\r\n          albumId={this.props.albumId}\r\n          onPhotoDeleted={this._updateAlbum}\r\n          isEditing\r\n          photos={photos}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapMethodToProps = service => {\r\n  return {\r\n    getPhoto: service.getPhoto,\r\n    deleteAlbum: service.deleteAlbum,\r\n    getAlbumInfo: service.getAlbumInfo,\r\n    changeAlbum: service.changeAlbum,\r\n    getPhotosByAlbumId: service.getPhotosByAlbumId,\r\n    uploadPhoto: service.uploadPhoto\r\n  };\r\n};\r\n\r\nexport default withApiService(mapMethodToProps)(EditPhotoAlbum);\r\n","import React, { Component } from 'react';\r\nimport { withApiService } from '../../components/hoc';\r\nimport Spinner from '../../components/spinner';\r\nimport { Link } from 'react-router-dom';\r\nimport routes from '../../routes';\r\n\r\nclass SinglePhoto extends Component {\r\n  state = {\r\n    isLoading: false,\r\n    photosName: '',\r\n    notFound: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ isLoading: true });\r\n    const { getPhoto, photoName } = this.props;\r\n    getPhoto(photoName)\r\n      .then(res => {\r\n        this.setState({\r\n          photo: `data:${res.data.response.imageType};base64,${res.data.response.image}`\r\n        });\r\n      })\r\n      .catch(err => this.setState({ notFound: true }))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  }\r\n\r\n  onPhotoDelete = name => {\r\n    const { deletePhoto } = this.props;\r\n    deletePhoto(name)\r\n      .then(() => {\r\n        this.setState({ notFound: true });\r\n      })\r\n      .catch(err => console.log(err.response));\r\n  };\r\n\r\n  render() {\r\n    const { photo, isLoading, notFound } = this.state;\r\n    const { albumId, photoName } = this.props;\r\n\r\n    return (\r\n      <div className={'single-photo-page-wrap'}>\r\n        {notFound ? (\r\n          <div className={'centered-block'}>Not found</div>\r\n        ) : (\r\n          <>\r\n            <div className=\"single-photo-wrap__btns\">\r\n              <div className={`single-photo-page-wrap-btn`}>\r\n                <Link to={routes.app.photo.main.path}>albums</Link>\r\n                {albumId && (\r\n                  <>\r\n                    <span>/</span>\r\n                    <Link to={`${routes.app.photo.main.path}${albumId}/`}>{albumId}</Link>\r\n                  </>\r\n                )}\r\n              </div>\r\n              <div\r\n                className={`single-photo-page-wrap-btn`}\r\n                onClick={() => this.onPhotoDelete(photoName)}\r\n              >\r\n                <span>Delete photo</span>\r\n              </div>\r\n            </div>\r\n            <img src={photo} alt=\"\" />\r\n          </>\r\n        )}\r\n        {isLoading && <Spinner />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapMethodToProps = service => {\r\n  return {\r\n    getPhoto: service.getPhoto,\r\n    deletePhoto: service.deletePhoto\r\n  };\r\n};\r\n\r\nexport default withApiService(mapMethodToProps)(SinglePhoto);\r\n","import Video from './video.jsx';\r\n\r\nexport default Video;","import React, { Component } from \"react\";\r\nimport \"./video.css\";\r\nimport NotAvailable from \"../../components/_temp-not-available-section\";\r\n\r\nexport default class Video extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"main-container container bg-white\">\r\n        <NotAvailable />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./main-music-view.css\";\r\nimport PlaylistItem from \"../../components/music/playlist-item\";\r\nimport { withApiService } from \"../../components/hoc\";\r\nimport AlbumNavigation from \"../../components/photo/album-navigation\";\r\nimport Modal from \"../../components/modal\";\r\nimport { CreateAlbumForm } from \"../../components/forms\";\r\nimport NotAvailable from \"../../components/_temp-not-available-section\";\r\n\r\nclass MainMusicView extends Component {\r\n  state = {\r\n    playlists: [],\r\n    photos: [],\r\n    albumCovers: {},\r\n    isExpanded: false\r\n  };\r\n\r\n  onExpandToggle = () => {\r\n    this.setState(state => {\r\n      return { isExpanded: !state.isExpanded };\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this._updatePlaylists();\r\n  }\r\n\r\n  _updatePlaylists = () => {\r\n    const { getPlaylists } = this.props;\r\n\r\n    getPlaylists().then(res => {\r\n      this.setState({ playlists: res.data.response });\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      playlists,\r\n      isExpanded,\r\n      photos,\r\n      photoCount,\r\n      albumCovers\r\n    } = this.state;\r\n    const breadCrumbs = [\r\n      {\r\n        text: `My playlists ${playlists.length}`,\r\n        link: \"/music/\"\r\n      }\r\n    ];\r\n\r\n    return (\r\n      <div className=\"main-container container bg-white\">\r\n        <NotAvailable />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapMethodToProps = service => {\r\n  return {\r\n    getPlaylists: service.getPlaylists,\r\n    createPlaylist: service.createPlaylist\r\n  };\r\n};\r\n\r\nexport default withApiService(mapMethodToProps)(MainMusicView);\r\n","import { withRouter } from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport placeholder from \"../../img/music_placeholder.svg\";\r\n\r\nconst PlaylistItem = ({ title, count, preview, id, history }) => {\r\n  const style = {\r\n    backgroundImage: `url(${\r\n      preview\r\n        ? `data:${preview.imageType};base64,${preview.photo}`\r\n        : placeholder\r\n    })`\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onClick={() => history.push(`${id}/`)}\r\n      className=\"col-2 album playlist\"\r\n    >\r\n      <div\r\n        onClick={e => {\r\n          e.stopPropagation();\r\n          history.push(`${id}/edit`);\r\n        }}\r\n        className=\"playlist__change\"\r\n      >\r\n        <i className=\"zmdi zmdi-edit\" />\r\n      </div>\r\n\r\n      <div className=\"ratio ratio1x1\">\r\n        <div\r\n          style={style}\r\n          className={`ratio__content playlist__item  ${\r\n            preview ? \"\" : \"photos_album_no_cover\"\r\n          }`}\r\n        >\r\n          <div className={\"centered-block playlist__play\"}>\r\n            <i className=\"zmdi zmdi-play\" />\r\n          </div>\r\n          <div className=\"playlist__count\">\r\n            <i className=\"zmdi zmdi-playlist-audio\" /> {count}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className={\"playlist-info\"}>{title}</div>\r\n    </div>\r\n  );\r\n};\r\nexport default withRouter(PlaylistItem);\r\n","import React, { Component } from \"react\";\r\nimport AlbumNavigation from \"../../components/photo/album-navigation\";\r\nimport { withApiService } from \"../../components/hoc\";\r\n\r\nclass MusicPlaylist extends Component {\r\n  state = {\r\n    music: [],\r\n    playlistInfo: null,\r\n    photoCount: 0\r\n  };\r\n  _isMounted = false;\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n    this._updateAlbum();\r\n  }\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  _updateAlbum = () => {\r\n    const { getMusicByPlaylistId, getPlaylistInfo, playlistId } = this.props;\r\n    // getMusicByPlaylistId(playlistId)\r\n    // .then(res => {\r\n    //   if (this._isMounted)\r\n    //     this.setState({\r\n    //       playlistInfo: res.data.response,\r\n    //       musicCount: res.data.response.length,\r\n    //       music: res.data.response\r\n    //     });\r\n    // })\r\n    // .catch(err => console.log(err));\r\n\r\n    getPlaylistInfo(playlistId)\r\n      .then(res => {\r\n        const { name, description, musicCount } = res.data.response;\r\n        if (this._isMounted)\r\n          this.setState({\r\n            playlistTitle: name,\r\n            description: description,\r\n            musicCount\r\n          });\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  onUpload = async files => {\r\n    const { playlistId, history } = this.props;\r\n\r\n    history.push(\"upload\", {\r\n      playlistId,\r\n      files,\r\n      breadCrumbs: [\r\n        {\r\n          text: `My playlists`,\r\n          link: \"/music/\"\r\n        },\r\n        {\r\n          text: `${this.state.playlistTitle}`,\r\n          link: `/music/${playlistId}/`\r\n        },\r\n        {\r\n          text: \"Add photos\"\r\n        }\r\n      ]\r\n    });\r\n  };\r\n  render() {\r\n    const { playlistId } = this.props;\r\n    const { music, musicCount, playlistTitle, description } = this.state;\r\n    const breadCrumbs = [\r\n      {\r\n        text: `My playlists`,\r\n        link: \"/music/\"\r\n      },\r\n      {\r\n        text: `${playlistTitle || \"\"} ${musicCount ? musicCount : \"\"}`\r\n      }\r\n    ];\r\n\r\n    return (\r\n      <div>\r\n        <AlbumNavigation\r\n          onUpload={this.onUpload}\r\n          breadCrumbs={breadCrumbs}\r\n        />\r\n        <div className=\"photos_album_intro\">\r\n          <div className={\"photos_album_intro__title\"}>{playlistTitle}</div>\r\n          <div className={\"photos_album_intro__description\"}>{description}</div>\r\n          <div className={\"photos_album_intro__photo-count\"}>\r\n            {musicCount} audios\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapMethodToProps = service => {\r\n  return {\r\n    getMusicByPlaylistId: service.getMusicByPlaylistId,\r\n    getPlaylistInfo: service.getPlaylistInfo\r\n  };\r\n};\r\n\r\nexport default withApiService(mapMethodToProps)(MusicPlaylist);\r\n","import React, { Component } from \"react\";\r\nimport AlbumNavigation from \"../../components/photo/album-navigation\";\r\nimport { withApiService } from \"../../components/hoc\";\r\nimport { ConfirmingForm } from \"../../components/forms\";\r\nimport Modal from \"../../components/modal\";\r\n\r\nclass EditMusicPlaylist extends Component {\r\n  state = {\r\n    coverPhoto: null,\r\n    description: \"\",\r\n    title: \"\",\r\n    photos: [],\r\n    titleValid: true,\r\n    isLoading: false,\r\n    coverPreview: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    this._updateAlbum();\r\n  }\r\n\r\n  _updateAlbum = async () => {\r\n    const { getPlaylistInfo, albumId } = this.props;\r\n\r\n    getPlaylistInfo(albumId)\r\n      .then(res => {\r\n        const { coverPhoto, description, name } = res.data.response;\r\n        this.setCoverPreview(coverPhoto);\r\n        this.setState({\r\n          coverPhoto,\r\n          description,\r\n          title: name\r\n        });\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  setCoverPreview = photo => {\r\n    if (photo)\r\n      this.setState({\r\n        coverPreview: `data:${photo.imageType};base64,${photo.photo}`\r\n      });\r\n  };\r\n\r\n  onSubmit = () => {\r\n    const { description, title } = this.state;\r\n    const { albumId, changePlaylist } = this.props;\r\n    changePlaylist(albumId, {\r\n      description,\r\n      name: title\r\n    })\r\n      .then(res => this._updateAlbum())\r\n      .catch(err => console.log(err.response));\r\n  };\r\n\r\n  onChange(e, type) {\r\n    this.setState({\r\n      [type]: e.target.value\r\n    });\r\n  }\r\n\r\n  onAlbumDelete = () => {\r\n    const { deletePlaylist, albumId, history } = this.props;\r\n    deletePlaylist(albumId).then(() => history.push(\"/music/\"));\r\n  };\r\n\r\n  onUpload = async files => {\r\n    const { albumId, history } = this.props;\r\n    history.push(\"upload\", {\r\n      albumId,\r\n      files,\r\n      breadCrumbs: [\r\n        {\r\n          text: `My photos`,\r\n          link: \"/albums/\"\r\n        },\r\n        {\r\n          text: `${this.state.title}`,\r\n          link: `/albums/${this.props.albumId}/`\r\n        },\r\n        {\r\n          text: \"Add photos\"\r\n        }\r\n      ]\r\n    });\r\n  };\r\n  onCoverUpload = e => {\r\n    let files = e.target.files;\r\n    if (files.length) {\r\n      files = Array.from(files);\r\n      files = files.filter(el => /image\\/\\w*/.test(el.type));\r\n      const formData = new FormData();\r\n      formData.append(\"Photo\", files[0]);\r\n      this.setState({ isLoading: true });\r\n      this.props.setPlaylistCover(formData, this.props.albumId).then(res => {\r\n        this.setCoverPreview(res.data.response);\r\n        this.setState({ isLoading: false });\r\n      });\r\n    }\r\n  };\r\n  onCoverDelete = () => {\r\n    const { albumId, deletePlaylistCover } = this.props;\r\n\r\n    deletePlaylistCover(albumId).then(res =>\r\n      this.setState({ coverPreview: null })\r\n    );\r\n  };\r\n  render() {\r\n    const { title, description, titleValid, coverPreview } = this.state;\r\n    const breadCrumbs = [\r\n      {\r\n        text: `My photos`,\r\n        link: \"/music/\"\r\n      },\r\n      {\r\n        text: `${this.state.title || \"\"}`,\r\n        link: `/music/${this.props.albumId}/`\r\n      },\r\n      {\r\n        text: \"Manage playlist\"\r\n      }\r\n    ];\r\n    return (\r\n      <div>\r\n        <AlbumNavigation\r\n          rightContent={\r\n            <Modal title={\"Delete playlist\"}>\r\n              <div className=\"\">\r\n                <div className={\"delete-album\"}>\r\n                  <i className=\"zmdi zmdi-delete zmdi-hc-lg\" /> Delete playlist\r\n                  <label htmlFor={\"imageDnd\"} />\r\n                </div>\r\n              </div>\r\n              <ConfirmingForm\r\n                body={<p>Are you sure you want to delete this playlist?</p>}\r\n                confirmText={\"Delete playlist\"}\r\n                onConfirm={this.onAlbumDelete}\r\n              />\r\n            </Modal>\r\n          }\r\n          onUpload={this.onUpload}\r\n          breadCrumbs={breadCrumbs}\r\n        />\r\n        <input\r\n          value={\"\"}\r\n          id={\"playlist-add-cover\"}\r\n          onChange={e => this.onCoverUpload(e)}\r\n          className={\"photos-upload-input\"}\r\n          type=\"file\"\r\n        />\r\n        <div className={\"edit-album-wrap\"}>\r\n          <div className={\"edit-album-wrap__cover\"}>\r\n            <div className={\"edit-album_wrap__label\"}>\r\n              Use as playlist cover\r\n            </div>\r\n            {coverPreview ? (\r\n              <div\r\n                className={`edit-playlist-wrap__image`}\r\n                style={{\r\n                  backgroundImage: `url(${coverPreview})`\r\n                }}\r\n              >\r\n                <div onClick={this.onCoverDelete} className={\"album-change\"}>\r\n                  <i className=\"zmdi zmdi-close\" />\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className={`edit-playlist-wrap__image placeholder`}>\r\n                <i className=\"zmdi zmdi-plus\" />{\" \"}\r\n                <label className={\"uploadBtn\"} htmlFor={\"playlist-add-cover\"} />\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"edit-album-wrap__form\">\r\n            <form className={\"form\"} onSubmit={this.onSubmit}>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"title\">Title</label>\r\n                <input\r\n                  id={\"title\"}\r\n                  className={`form-control ${titleValid ? \"\" : \"is-invalid\"}`}\r\n                  onChange={e => this.onChange(e, \"title\")}\r\n                  value={title}\r\n                  type={\"text\"}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"description\">Description</label>\r\n                <textarea\r\n                  rows={4}\r\n                  id={\"description\"}\r\n                  className={`form-control`}\r\n                  onChange={e => this.onChange(e, \"description\")}\r\n                  value={description}\r\n                />\r\n              </div>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\"\r\n                }}\r\n              >\r\n                <button className={\"ok-btn\"} type={\"submit\"}>\r\n                  Save changes\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapMethodToProps = service => {\r\n  return {\r\n    changePlaylist: service.changePlaylist,\r\n    deletePlaylist: service.deletePlaylist,\r\n    getPlaylistInfo: service.getPlaylistInfo,\r\n    deletePlaylistCover: service.deletePlaylistCover,\r\n    setPlaylistCover: service.setPlaylistCover\r\n  };\r\n};\r\n\r\nexport default withApiService(mapMethodToProps)(EditMusicPlaylist);\r\n","import React, { Component } from 'react';\r\nimport { withApiService } from '../../components/hoc';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { compose } from '../../helpers';\r\nimport routes from '../../routes';\r\nclass SignInForm extends Component {\r\n  state = {\r\n    email: '',\r\n    password: '',\r\n    isLoading: false,\r\n    authError: false,\r\n    errMsg: ''\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    const { password, email } = this.state;\r\n    this.setState({ authError: false, isLoading: true, errMsg: '' });\r\n    setTimeout(() => {\r\n      this.props\r\n        .signIn({\r\n          email,\r\n          PasswordHash: password\r\n        })\r\n        .then(() => {\r\n          this.props.history.push(routes.root.path);\r\n        })\r\n        .catch(err => {\r\n          if (err.response) {\r\n            console.log('Auth request status: ', err.response.status);\r\n            if (Math.trunc(err.response.status / 100) === 4)\r\n              this.setState({\r\n                authError: true,\r\n                isLoading: false,\r\n                errMsg: 'Incorrect username or password.'\r\n              });\r\n          } else\r\n            this.setState({\r\n              authError: true,\r\n              isLoading: false,\r\n              errMsg: err.message\r\n            });\r\n        });\r\n    }, 500);\r\n  };\r\n  handleUserInput = e => {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n  render() {\r\n    const { email, password, isLoading, authError, errMsg } = this.state;\r\n    return (\r\n      <div className={'sign-in-form'}>\r\n        <form className={'form'} onSubmit={this.onSubmit}>\r\n          <div className=\"form-group\">\r\n            <label className={'sign-in-form__label'} htmlFor=\"email\">\r\n              Email address\r\n            </label>\r\n            <input\r\n              name={'email'}\r\n              id={'email'}\r\n              className={`form-control`}\r\n              onChange={this.handleUserInput}\r\n              value={email}\r\n              type={'text'}\r\n              placeholder={'name@example.com'}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label className={'sign-in-form__label'} htmlFor=\"password\">\r\n              Password\r\n            </label>\r\n            <input\r\n              name={'password'}\r\n              id={'password'}\r\n              className={`form-control`}\r\n              onChange={this.handleUserInput}\r\n              value={password}\r\n              type={'password'}\r\n              placeholder={'password'}\r\n            />\r\n          </div>\r\n          {isLoading ? (\r\n            <button disabled className={'ok-btn'} type={'submit'}>\r\n              Signing in\r\n            </button>\r\n          ) : (\r\n            <button className={'ok-btn'} type={'submit'}>\r\n              Sign in\r\n            </button>\r\n          )}\r\n          {authError ? (\r\n            <div className={'error'}>\r\n              <i\r\n                onClick={() => {\r\n                  this.setState({ authError: false });\r\n                }}\r\n                className=\"zmdi zmdi-close\"\r\n              />\r\n              <span>{errMsg}</span>\r\n            </div>\r\n          ) : null}\r\n          <div className={'create-account-callout'}>\r\n            New to Mohome? <Link to={routes.signUp.path}>Create an account.</Link>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapMethodToProps = service => {\r\n  return {\r\n    signIn: service.signIn\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  withApiService(mapMethodToProps),\r\n  withRouter\r\n)(SignInForm);\r\n","import React from \"react\";\r\nimport  SignInForm  from \"./sign-in-form\";\r\nimport { Logo } from \"../../constants\";\r\nconst SignIn = () => {\r\n  return (\r\n    <div>\r\n      <img className=\"sign-page-logo\" height={\"60px\"} src={Logo} alt=\"\" />\r\n      <div className={\"logo-text\"}>Sign in to Mohome</div>\r\n      <SignInForm />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n","import React, { Component } from 'react';\r\nimport { withApiService } from '../../components/hoc';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from '../../helpers';\r\nimport routes from '../../routes';\r\n\r\nclass SignUpForm extends Component {\r\n  state = {\r\n    username: '',\r\n    email: '',\r\n    formErrors: { email: '', password: '', username: '' },\r\n    password: '',\r\n    emailValid: false,\r\n    passwordValid: false,\r\n    usernameValid: false,\r\n    usernameClass: '',\r\n    passwordClass: '',\r\n    emailClass: '',\r\n    formValid: false,\r\n    isLoading: false,\r\n    isEmailExist: true,\r\n    isValidation: false\r\n  };\r\n\r\n  validateField = (fieldName, value) => {\r\n    let {\r\n      formErrors,\r\n      emailValid,\r\n      passwordValid,\r\n      usernameValid,\r\n      emailClass,\r\n      passwordClass,\r\n      usernameClass,\r\n      isEmailExist\r\n    } = this.state;\r\n\r\n    switch (fieldName) {\r\n      case 'email':\r\n        emailValid = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\r\n          value\r\n        );\r\n        emailClass = emailValid && !isEmailExist ? 'is-valid' : 'is-invalid';\r\n        if (!emailValid) formErrors.email = 'Email is invalid';\r\n        else if (isEmailExist) formErrors.email = 'Email is already taken';\r\n        else formErrors.email = '';\r\n        break;\r\n      case 'password':\r\n        passwordValid = /^[a-zA-Z0-9]{4,}$/.test(value);\r\n        passwordClass = passwordValid ? 'is-valid' : 'is-invalid';\r\n        formErrors.password = passwordValid\r\n          ? ''\r\n          : \"Make sure it's at least 4 characters and it contains only alphanumeric characters\";\r\n        break;\r\n      case 'username':\r\n        usernameValid = /^[a-zA-Z0-9_А-Яа-я]{4,}$/.test(value);\r\n        usernameClass = usernameValid ? 'is-valid' : 'is-invalid';\r\n        formErrors.username = usernameValid\r\n          ? ''\r\n          : 'Username may only contain alphanumeric characters or underscores';\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    this.setState(\r\n      {\r\n        formErrors,\r\n        emailValid,\r\n        passwordValid,\r\n        usernameValid,\r\n        usernameClass,\r\n        passwordClass,\r\n        emailClass\r\n      },\r\n      this.validateForm\r\n    );\r\n  };\r\n  validateForm = () => {\r\n    const { emailValid, passwordValid, usernameValid } = this.state;\r\n    this.setState({\r\n      formValid: emailValid && passwordValid && usernameValid\r\n    });\r\n  };\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    const { username, password, email, formValid } = this.state;\r\n    if (formValid) {\r\n      this.setState({ isLoading: true });\r\n      setTimeout(() => {\r\n        this.props\r\n          .signUp({ username, password, email })\r\n          .then(() => {\r\n            this.props.history.push(routes.root.path);\r\n          })\r\n          .catch(err => {\r\n            this.setState({ isLoading: false });\r\n          });\r\n      }, 500);\r\n    }\r\n  };\r\n  handleUserInput = e => {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n\r\n    this.setState(\r\n      {\r\n        [name]: value\r\n      },\r\n      () => {\r\n        this.validateField(name, value);\r\n      }\r\n    );\r\n    if (name === 'email') {\r\n      this.setState({ isValidation: true });\r\n      setTimeout(() => {\r\n        this.props\r\n          .validateUser(value)\r\n          .then(res => {\r\n            this.setState({\r\n              isEmailExist: true\r\n            });\r\n          })\r\n          .catch(err => {\r\n            this.setState({\r\n              isEmailExist: false\r\n            });\r\n          })\r\n          .finally(() => {\r\n            this.setState({ isValidation: false }, () => {\r\n              this.validateField(name, value);\r\n            });\r\n          });\r\n      }, 200);\r\n    }\r\n  };\r\n  render() {\r\n    const {\r\n      username,\r\n      email,\r\n      password,\r\n      formValid,\r\n      formErrors,\r\n      usernameClass,\r\n      passwordClass,\r\n      emailClass,\r\n      isLoading,\r\n      isValidation\r\n    } = this.state;\r\n    return (\r\n      <div className={'sign-up-form'}>\r\n        <form className={'form'} onSubmit={this.onSubmit}>\r\n          <div className=\"form-group\">\r\n            <label className={'sign-up-form__label'} htmlFor=\"email\">\r\n              Username\r\n            </label>\r\n            <input\r\n              name={'username'}\r\n              id={'username'}\r\n              className={`form-control ${usernameClass}`}\r\n              onChange={this.handleUserInput}\r\n              value={username}\r\n              type={'text'}\r\n              placeholder={'username'}\r\n            />\r\n            <div className={'user-input-error'}>{formErrors.username}</div>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label className={'sign-up-form__label'} htmlFor=\"email\">\r\n              Email address\r\n            </label>\r\n            <input\r\n              name={'email'}\r\n              id={'email'}\r\n              className={`form-control ${isValidation ? 'form-control-validation' : emailClass}`}\r\n              onChange={this.handleUserInput}\r\n              value={email}\r\n              type={'text'}\r\n              placeholder={'name@example.com'}\r\n            />\r\n            <div className={'user-input-error'}>{formErrors.email}</div>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label className={'sign-up-form__label'} htmlFor=\"password\">\r\n              Password\r\n            </label>\r\n            <input\r\n              name={'password'}\r\n              id={'password'}\r\n              className={`form-control ${passwordClass}`}\r\n              onChange={this.handleUserInput}\r\n              value={password}\r\n              type={'password'}\r\n              placeholder={'password'}\r\n            />\r\n            <div className={'user-input-error'}>{formErrors.password}</div>\r\n          </div>\r\n          {isLoading ? (\r\n            <button disabled className={'ok-btn'} type={'submit'}>\r\n              Creating the account\r\n            </button>\r\n          ) : (\r\n            <button disabled={!formValid} className={'ok-btn'} type={'submit'}>\r\n              Create an account\r\n            </button>\r\n          )}\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapMethodToProps = service => {\r\n  return {\r\n    signUp: service.signUp,\r\n    validateUser: service.validateUser\r\n  };\r\n};\r\nexport default compose(\r\n  withApiService(mapMethodToProps),\r\n  withRouter\r\n)(SignUpForm);\r\n","import Home from './pages/home';\r\nimport {\r\n  MainPhotoView,\r\n  AddPhotos,\r\n  PhotoAlbum,\r\n  EditPhotoAlbum,\r\n  SinglePhoto,\r\n  PhotoSlider\r\n} from './pages/photo';\r\nimport Video from './pages/video';\r\nimport { MainMusicView, MusicPlaylist, EditMusicPlaylist } from './pages/music';\r\n\r\nimport SignIn from './pages/sign-in';\r\nimport SignUp from './pages/sign-up';\r\n\r\nexport default {\r\n  root: {\r\n    path: '/',\r\n    view: Home\r\n  },\r\n  signIn: { path: '/sign-in', view: SignIn },\r\n  signUp: { path: '/sign-up', view: SignUp },\r\n  app: {\r\n    photo: {\r\n      main: {\r\n        path: '/albums/',\r\n        view: MainPhotoView\r\n      },\r\n      albums: {\r\n        edit: {\r\n          path: '/albums/:id/edit',\r\n          relativePath: 'edit',\r\n          view: EditPhotoAlbum\r\n        },\r\n        photo: {\r\n          path: '/albums/:albumId/photo/:name',\r\n          view: SinglePhoto\r\n        },\r\n        upload: {\r\n          path: '/albums/:albumId/upload',\r\n          view: AddPhotos\r\n        },\r\n        album: {\r\n          path: '/albums/:albumId',\r\n          view: PhotoAlbum\r\n        }\r\n      },\r\n      slider: {\r\n        path: 'photo/:name',\r\n        relativePath: 'photo',\r\n        view: PhotoSlider\r\n      },\r\n      photo: {\r\n        path: '/albums/photo/:name',\r\n        view: SinglePhoto\r\n      },\r\n      upload: {\r\n        path: '/albums/upload',\r\n        relativePath: 'upload',\r\n        view: AddPhotos\r\n      }\r\n    },\r\n    music: {\r\n      main: {\r\n        path: '/music',\r\n        view: MainMusicView\r\n      }\r\n    },\r\n    video: {\r\n      main: {\r\n        path: '/video',\r\n        view: Video\r\n      }\r\n    }\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport  SignUpForm  from \"./sign-up-form\";\r\nimport { Logo } from \"../../constants\";\r\nconst SignUp = () => {\r\n  return (\r\n    <div>\r\n      <img className=\"sign-page-logo\" height={\"60px\"} src={Logo} alt=\"\" />\r\n      <div className={\"logo-text\"}>Join Mohome</div>\r\n      <SignUpForm />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import React, { Component } from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport routes from \"../../routes\"\r\n\r\nexport default class LeftNavBar extends Component {\r\n  state = {\r\n    isMenuOpened: false\r\n  };\r\n  render() {\r\n    return (\r\n      <div className={\"navbar__left\"}>\r\n        <Link to={routes.root.path} className=\"navbar__logo\">\r\n          <img src=\"/temp_content/brand.png\" className=\"logo\" alt=\"Mohome\" />\r\n        </Link>\r\n        <div\r\n          onClick={() =>\r\n            this.setState(prevState => {\r\n              return {\r\n                isMenuOpened: !prevState.isMenuOpened\r\n              };\r\n            })\r\n          }\r\n          className={`burger-menu ${\r\n            this.state.isMenuOpened ? \"menu-on\" : \"\"\r\n          }   menu-toggle`}\r\n        >\r\n          <div className=\"burger\" />\r\n        </div>\r\n        <Menu\r\n          isMenuOpened={this.state.isMenuOpened}\r\n          onClick={() =>\r\n            this.setState(prevState => {\r\n              return {\r\n                isMenuOpened: !prevState.isMenuOpened\r\n              };\r\n            })\r\n          }\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst Menu = ({ isMenuOpened, onClick }) => {\r\n  return (\r\n    <ul className={`navbar__menu ${isMenuOpened ? \"menu-opened\" : \"\"}`}>\r\n      <li className=\"navbar__item\">\r\n        <NavLink\r\n          onClick={onClick}\r\n          activeClassName={\"link-active\"}\r\n          className=\"navbar__link\"\r\n          to={routes.root.path}\r\n          exact\r\n        >\r\n          <i className=\"zmdi zmdi-home zmdi-hc-lg\" /> Home\r\n        </NavLink>\r\n      </li>\r\n      <li className=\"navbar__item\">\r\n        <NavLink\r\n          onClick={onClick}\r\n          activeClassName={\"link-active\"}\r\n          className=\"navbar__link\"\r\n          to={routes.app.photo.main.path}\r\n        >\r\n          <i className=\"zmdi zmdi-image zmdi-hc-lg\" /> Photo\r\n        </NavLink>\r\n      </li>\r\n      <li className=\"navbar__item\">\r\n        <NavLink\r\n          onClick={onClick}\r\n          activeClassName={\"link-active\"}\r\n          className=\"navbar__link\"\r\n          to={routes.app.video.main.path}\r\n        >\r\n          <i className=\"zmdi zmdi-movie zmdi-hc-lg\" /> Video\r\n        </NavLink>\r\n      </li>\r\n      <li className=\"navbar__item\">\r\n        <NavLink\r\n          onClick={onClick}\r\n          activeClassName={\"link-active\"}\r\n          className=\"navbar__link\"\r\n          to={routes.app.music.main.path}\r\n        >\r\n          <i className=\"zmdi zmdi-audio zmdi-hc-lg\" /> Music\r\n        </NavLink>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport Cookies from \"js-cookie\";\r\nimport { Link } from \"react-router-dom\";\r\nimport routes from \"../../routes\"\r\n\r\nconst RightNavBar = () => {\r\n  const token = Cookies.get(\"id_token\");\r\n  let payload = \"\";\r\n  let username = \"\";\r\n  if (token) {\r\n    payload = token.split(\".\")[1];\r\n    username = payload ? JSON.parse(atob(payload)).Name : \"\";\r\n  }\r\n  return (\r\n    <div className=\"navbar__right\">\r\n      <button\r\n        type=\"button\"\r\n        className=\" dropdown-toggle drop-down-toggle\"\r\n        data-toggle=\"dropdown\"\r\n        aria-haspopup=\"true\"\r\n        aria-expanded=\"false\"\r\n      >\r\n        {username}\r\n        <div className=\"nav-avatar\" />\r\n      </button>\r\n      <div className=\"dropdown-menu dropdown-menu-right\">\r\n        <button className=\"dropdown-item\" type=\"button\">\r\n          My profile\r\n        </button>\r\n        <div className=\"dropdown-divider\" />\r\n        <button className=\"dropdown-item\" type=\"button\">\r\n          Settings\r\n        </button>\r\n        <button className=\"dropdown-item\" type=\"button\">\r\n          Help\r\n        </button>\r\n        <div className=\"dropdown-divider\" />\r\n        <Link\r\n          onClick={() => {\r\n            Cookies.remove(\"id_token\", { path: \"/\" });\r\n            Cookies.remove(\"expiresIn\", { path: \"/\" });\r\n            Cookies.remove(\"refreshToken\", { path: \"/\" });\r\n          }}\r\n          to={routes.signIn}\r\n          className=\"dropdown-item\"\r\n        >\r\n          Sign out\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RightNavBar;\r\n","import NavBar from './navbar';\r\n\r\nexport default NavBar;","import React from \"react\";\r\nimport LeftNavBar from \"./left-navbar\";\r\nimport RightNavBar from \"./right-navbar\";\r\nimport \"./navbar.css\";\r\n\r\nconst NavBar = () => {\r\n  return (\r\n    <nav className=\"navbar\">\r\n      <div className=\"container\">\r\n        <LeftNavBar />\r\n        <RightNavBar />\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React from \"react\";\r\n\r\nconst AlbumsPageWrapper = ({ children }) => {\r\n  return <div className=\"photo-section-container container\">{children}</div>;\r\n};\r\n\r\nexport default AlbumsPageWrapper;\r\n","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport Cookies from 'js-cookie';\r\nimport routes from '../../routes';\r\n\r\nconst PrivateRoute = props => {\r\n  return Cookies.get('id_token') ? (\r\n    <Route {...props} />\r\n  ) : (\r\n    <Redirect to={routes.signIn.path} />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React, { Component } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport Cookies from 'js-cookie';\r\n\r\nimport NavBar from './components/navbar';\r\nimport { AlbumsPageWrapper } from './components/photo';\r\nimport PrivateRoute from './components/private-route';\r\n\r\nimport routes from './routes';\r\n\r\nimport './app.css';\r\n\r\nexport default class App extends Component {\r\n  shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n    let { location } = this.props;\r\n    if (nextProps.history.action !== 'POP' && (!location.state || !location.state.modal)) {\r\n      this.previousLocation = this.props.location;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    let prevPathName = this.previousLocation ? this.previousLocation.pathname : `/`;\r\n    // убираем последнюю часть prevPathName, чтоб там содержалось только\r\n    // /albums/ или /albums/id/\r\n    if (prevPathName && prevPathName[prevPathName.length - 1] != '/') {\r\n      prevPathName = prevPathName.slice(0, prevPathName.lastIndexOf('/') + 1);\r\n    }\r\n    let { location } = this.props;\r\n    let isModal = !!(location.state && location.state.modal && this.previousLocation !== location);\r\n    return (\r\n      <div>\r\n        <Switch location={isModal ? this.previousLocation : location}>\r\n          <PrivateRoute\r\n            path={routes.root.path}\r\n            render={() => {\r\n              return (\r\n                <React.Fragment>\r\n                  <NavBar />\r\n                  <routes.root.view />\r\n                </React.Fragment>\r\n              );\r\n            }}\r\n            exact\r\n          />\r\n          <PrivateRoute\r\n            path={routes.app.photo.main.path}\r\n            exact\r\n            render={({ history }) => {\r\n              return (\r\n                <React.Fragment>\r\n                  <NavBar />\r\n                  <AlbumsPageWrapper>\r\n                    <routes.app.photo.main.view history={history} />\r\n                  </AlbumsPageWrapper>\r\n                </React.Fragment>\r\n              );\r\n            }}\r\n          />\r\n          <PrivateRoute\r\n            path={routes.app.photo.photo.path}\r\n            render={({ history, location, match }) => {\r\n              return (\r\n                <React.Fragment>\r\n                  <routes.app.photo.photo.view\r\n                    photoName={match.params.name}\r\n                    location={location}\r\n                    history={history}\r\n                  />\r\n                </React.Fragment>\r\n              );\r\n            }}\r\n            exact\r\n          />\r\n          <PrivateRoute\r\n            path={routes.app.photo.albums.edit.path}\r\n            render={({ history, match }) => {\r\n              return (\r\n                <React.Fragment>\r\n                  <NavBar />\r\n                  <AlbumsPageWrapper>\r\n                    <routes.app.photo.albums.edit.view\r\n                      history={history}\r\n                      albumId={match.params.id}\r\n                    />\r\n                  </AlbumsPageWrapper>\r\n                </React.Fragment>\r\n              );\r\n            }}\r\n            exact\r\n          />\r\n          <PrivateRoute\r\n            path={routes.app.photo.albums.photo.path}\r\n            render={({ match, history }) => {\r\n              const id = match.params.albumId;\r\n              const name = match.params.name;\r\n              return (\r\n                <React.Fragment>\r\n                  <routes.app.photo.albums.photo.view\r\n                    albumId={id}\r\n                    history={history}\r\n                    photoName={name}\r\n                  />\r\n                </React.Fragment>\r\n              );\r\n            }}\r\n            exact\r\n          />\r\n          <PrivateRoute\r\n            path={routes.app.photo.upload.path}\r\n            exact\r\n            render={({ location, history }) => {\r\n              if (this.previousLocation || history.action !== 'POP')\r\n                return (\r\n                  <React.Fragment>\r\n                    <NavBar />\r\n                    <AlbumsPageWrapper>\r\n                      <routes.app.photo.upload.view history={history} {...location.state} />\r\n                    </AlbumsPageWrapper>\r\n                  </React.Fragment>\r\n                );\r\n              else return <Redirect to={routes.app.photo.main.path} />;\r\n            }}\r\n          />\r\n          <PrivateRoute\r\n            path={routes.app.photo.albums.upload.path}\r\n            exact\r\n            render={({ history, location }) => {\r\n              if (this.previousLocation || history.action !== 'POP')\r\n                return (\r\n                  <React.Fragment>\r\n                    <NavBar />\r\n                    <AlbumsPageWrapper>\r\n                      <routes.app.photo.albums.upload.view history={history} {...location.state} />\r\n                    </AlbumsPageWrapper>\r\n                  </React.Fragment>\r\n                );\r\n              else return <Redirect to={routes.app.photo.main.path} />;\r\n            }}\r\n          />\r\n          <PrivateRoute\r\n            path={routes.app.photo.albums.album.path}\r\n            exact\r\n            render={({ history, match, location }) => {\r\n              const id = match.params.albumId;\r\n              return (\r\n                <React.Fragment>\r\n                  <NavBar />\r\n                  <AlbumsPageWrapper>\r\n                    <routes.app.photo.albums.album.view\r\n                      history={history}\r\n                      {...location.state}\r\n                      albumId={id}\r\n                    />\r\n                  </AlbumsPageWrapper>\r\n                </React.Fragment>\r\n              );\r\n            }}\r\n          />\r\n          <PrivateRoute\r\n            path={routes.app.video.main.path}\r\n            render={() => {\r\n              return (\r\n                <React.Fragment>\r\n                  <NavBar />\r\n                  <routes.app.video.main.view />\r\n                </React.Fragment>\r\n              );\r\n            }}\r\n          />\r\n          <PrivateRoute\r\n            path={routes.app.music.main.path}\r\n            render={() => {\r\n              return (\r\n                <React.Fragment>\r\n                  <NavBar />\r\n                  <routes.app.music.main.view />\r\n                </React.Fragment>\r\n              );\r\n            }}\r\n          />\r\n          {/* <PrivateRoute\r\n            path=\"/music/:id\"\r\n            exact\r\n            render={({ history, match, location }) => {\r\n              const id = match.params.id;\r\n              return (\r\n                <React.Fragment>\r\n                  <NavBar />\r\n                  <AlbumsPageWrapper>\r\n                    <MusicPlaylist history={history} {...location.state} playlistId={id} />\r\n                  </AlbumsPageWrapper>\r\n                </React.Fragment>\r\n              );\r\n            }}\r\n          />{' '}\r\n          <PrivateRoute\r\n            path=\"/music/:id/edit\"\r\n            render={({ history, match }) => {\r\n              return (\r\n                <React.Fragment>\r\n                  <NavBar />\r\n                  <AlbumsPageWrapper>\r\n                    <EditMusicPlaylist history={history} albumId={match.params.id} />\r\n                  </AlbumsPageWrapper>\r\n                </React.Fragment>\r\n              );\r\n            }}\r\n            exact\r\n          /> */}\r\n          <PrivateRoute\r\n            render={({ history }) => {\r\n              return (\r\n                <div>\r\n                  <div>404</div>\r\n                  <div>not found: {history.location.pathname}</div>\r\n                </div>\r\n              );\r\n            }}\r\n          />\r\n        </Switch>\r\n\r\n        <Route\r\n          path={routes.signIn.path}\r\n          render={() => {\r\n            return Cookies.get('id_token') ? (\r\n              <Redirect to={routes.root.path} />\r\n            ) : (\r\n              <routes.signIn.view />\r\n            );\r\n          }}\r\n        />\r\n        <Route\r\n          path={routes.signUp.path}\r\n          render={() => {\r\n            return Cookies.get('id_token') ? (\r\n              <Redirect to={routes.root.path} />\r\n            ) : (\r\n              <routes.signUp.view />\r\n            );\r\n          }}\r\n        />\r\n        {isModal ? (\r\n          <PrivateRoute\r\n            path={prevPathName + routes.app.photo.slider.path}\r\n            render={({ history, location }) => {\r\n              return (\r\n                <React.Fragment>\r\n                  <routes.app.photo.slider.view\r\n                    prevPath={this.previousLocation}\r\n                    location={location}\r\n                    history={history}\r\n                  />\r\n                </React.Fragment>\r\n              );\r\n            }}\r\n          />\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./app\";\r\n\r\nimport { ApiServiceProvider } from \"./services/api-service-context\";\r\nimport { MohomeApiService } from \"./services\";\r\nimport { Route, HashRouter as Router } from \"react-router-dom\";\r\n\r\nconst apiService = new MohomeApiService();\r\n\r\nReactDOM.render(\r\n  <ApiServiceProvider value={apiService}>\r\n    <Router>\r\n      <Route component={App} />\r\n    </Router>\r\n  </ApiServiceProvider>,\r\n  document.getElementById(\"root\")\r\n);\r\n","import axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\nimport { serialize } from \"../helpers\";\r\n\r\nexport default class MohomeApiService {\r\n  constructor() {\r\n    this._updateToken();\r\n  }\r\n  _apiBase = \"http://mohome.ml/Api/v1\";\r\n\r\n  signIn = async body => {\r\n    return axios\r\n      .post(this._apiBase + \"/Token/signin\", JSON.stringify(body), {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        }\r\n      })\r\n      .then(function(res) {\r\n        Cookies.set(\"id_token\", res.data.response.accessToken, {\r\n          path: \"/\"\r\n        });\r\n        Cookies.set(\"expiresIn\", res.data.response.expiresIn, {\r\n          path: \"/\"\r\n        });\r\n        Cookies.set(\"refreshToken\", res.data.response.refreshToken, {\r\n          path: \"/\"\r\n        });\r\n      });\r\n  };\r\n  signUp = async body => {\r\n    return axios\r\n      .post(this._apiBase + \"/Token/signup\", JSON.stringify(body), {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        }\r\n      })\r\n      .then(function(res) {\r\n        Cookies.set(\"id_token\", res.data.response.accessToken, {\r\n          path: \"/\"\r\n        });\r\n        Cookies.set(\"expiresIn\", res.data.response.expiresIn, {\r\n          path: \"/\"\r\n        });\r\n        Cookies.set(\"refreshToken\", res.data.response.refreshToken, {\r\n          path: \"/\"\r\n        });\r\n      });\r\n  };\r\n  validateUser = async email => {\r\n    return axios.get(this._apiBase + \"/users?email=\" + email, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    });\r\n  };\r\n  getAlbums = async () => {\r\n    await this._updateToken();\r\n    return axios.get(this._apiBase + \"/PhotoAlbums\", {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + Cookies.get(\"id_token\")\r\n      }\r\n    });\r\n  };\r\n  getAlbumInfo = async id => {\r\n    await this._updateToken();\r\n    return axios.get(this._apiBase + \"/PhotoAlbums/\" + id, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + Cookies.get(\"id_token\")\r\n      }\r\n    });\r\n  };\r\n  createAlbum = async body => {\r\n    await this._updateToken();\r\n    return axios.post(this._apiBase + \"/PhotoAlbums\", JSON.stringify(body), {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + Cookies.get(\"id_token\")\r\n      }\r\n    });\r\n  };\r\n  changeAlbum = async (id, body) => {\r\n    await this._updateToken();\r\n    return axios.put(\r\n      this._apiBase + \"/PhotoAlbums/\" + id,\r\n      JSON.stringify(body),\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + Cookies.get(\"id_token\")\r\n        }\r\n      }\r\n    );\r\n  };\r\n  deleteAlbum = async id => {\r\n    await this._updateToken();\r\n    return axios.delete(this._apiBase + \"/PhotoAlbums/\" + id, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + Cookies.get(\"id_token\")\r\n      }\r\n    });\r\n  };\r\n  uploadPhoto = async body => {\r\n    await this._updateToken();\r\n    return axios.post(this._apiBase + \"/Photos\", body, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n        Authorization: \"Bearer \" + Cookies.get(\"id_token\")\r\n      }\r\n    });\r\n  };\r\n  getPhoto = async (name, isThumb) => {\r\n    const thumb = isThumb ? \"?thumb=true\" : \"\";\r\n    await this._updateToken();\r\n    return axios.get(this._apiBase + \"/Photos/\" + name + thumb, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + Cookies.get(\"id_token\")\r\n      }\r\n    });\r\n  };\r\n  changePhotoDescription = async (name, body) => {\r\n    await this._updateToken();\r\n    return axios.patch(\r\n      this._apiBase + \"/Photos/\" + name,\r\n      JSON.stringify(body),\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + Cookies.get(\"id_token\")\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  getPhotosByAlbumId = async params => {\r\n    await this._updateToken();\r\n    return axios.get(this._apiBase + \"/Photos?\" + serialize(params), {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n        Authorization: \"Bearer \" + Cookies.get(\"id_token\")\r\n      }\r\n    });\r\n  };\r\n\r\n  getPhotoCount = async () => {\r\n    await this._updateToken();\r\n    return axios.get(this._apiBase + \"/Photos?\", {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n        Authorization: \"Bearer \" + Cookies.get(\"id_token\")\r\n      }\r\n    });\r\n  };\r\n  deletePhoto = async name => {\r\n    await this._updateToken();\r\n    return axios.delete(this._apiBase + \"/Photos/\" + name, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + Cookies.get(\"id_token\")\r\n      }\r\n    });\r\n  };\r\n\r\n  getPlaylists = async () => {\r\n    await this._updateToken();\r\n    return axios.get(this._apiBase + \"/Playlists\", {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + Cookies.get(\"id_token\")\r\n      }\r\n    });\r\n  };\r\n\r\n  createPlaylist = async body => {\r\n    await this._updateToken();\r\n    return axios.post(this._apiBase + \"/Playlists\", JSON.stringify(body), {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + Cookies.get(\"id_token\")\r\n      }\r\n    });\r\n  };\r\n  deletePlaylist = async id => {\r\n    await this._updateToken();\r\n    return axios.delete(this._apiBase + \"/Playlists/\" + id, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + Cookies.get(\"id_token\")\r\n      }\r\n    });\r\n  };\r\n  getPlaylistInfo = async id => {\r\n    await this._updateToken();\r\n    return axios.get(this._apiBase + \"/Playlists/\" + id, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + Cookies.get(\"id_token\")\r\n      }\r\n    });\r\n  };\r\n\r\n  setPlaylistCover = async (body, id) => {\r\n    await this._updateToken();\r\n    return axios.put(this._apiBase + \"/playlists/cover/\" + id, body, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n        Authorization: \"Bearer \" + Cookies.get(\"id_token\")\r\n      }\r\n    });\r\n  };\r\n\r\n  deletePlaylistCover = async id => {\r\n    await this._updateToken();\r\n    return axios.delete(this._apiBase + \"/playlists/cover/\" + id, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n        Authorization: \"Bearer \" + Cookies.get(\"id_token\")\r\n      }\r\n    });\r\n  };\r\n  changePlaylist = async (id, body) => {\r\n    await this._updateToken();\r\n    return axios.put(this._apiBase + \"/Playlists/\" + id, JSON.stringify(body), {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + Cookies.get(\"id_token\")\r\n      }\r\n    });\r\n  };\r\n  // Сделать автоматический запуск функции раз в 55 минут\r\n  _updateToken = async () => {\r\n    if (Date.now() >= (Cookies.get(\"expiresIn\") - 60) * 1000) {\r\n      Cookies.remove(\"expiresIn\", { path: \"/\" });\r\n      Cookies.remove(\"id_token\", { path: \"/\" });\r\n      axios\r\n        .post(\r\n          this._apiBase + \"/Token/refresh\",\r\n          JSON.stringify({\r\n            refreshToken: Cookies.get(\"refreshToken\")\r\n          }),\r\n          {\r\n            headers: {\r\n              \"Content-Type\": \"application/json\"\r\n            }\r\n          }\r\n        )\r\n        .then(res => {\r\n          Cookies.remove(\"refreshToken\", {\r\n            path: \"/\"\r\n          });\r\n          Cookies.set(\"id_token\", res.data.response.accessToken, { path: \"/\" });\r\n          Cookies.set(\"expiresIn\", res.data.response.expiresIn, { path: \"/\" });\r\n          Cookies.set(\"refreshToken\", res.data.response.refreshToken, {\r\n            path: \"/\"\r\n          });\r\n        })\r\n        .catch(e => console.log(e));\r\n    }\r\n  };\r\n}\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAtXSURBVHja7N3plhTlHYDxZ5yhGQaGQRQFHXEB4kKIuKEYFIKGaNyO0ZgY9ETBEHfcgiiKARRUROISXHA3ahJP4oecJCfn5Ba8hlxAcg+TD/9qE8eBme6p6nqr6vl98TjOdHdVdT2+XV31Vt/Y2BiSmukYV4FkACQZAEkGQJIBkGQAJBkASQZAkgGQZAAkGQBJBkCSAZBkACQZAEkGQJIBkGQAJBkASQZAkgGQZAAkGQBJBkCSAZBkACQZAEkGQJIBkGQAJBkASQZAkgGQZAAkGQBJBkCSAZAMgCQDIMkASDIAkgyAJAMgyQBIMgCSDIAkAyDJAEgyAJIMgCQDIMkASDIAkgyAJAMgyQBIMgCSDIAkAyDJAEgyAJIMgCQDIMkASDIAkgyAJAMgyQBIMgCSDIAkAyDJAEgyAJIMgGQAJBkASQZAkgGQZAAkGQBJBkCSAZBUEwNffvmla6F3RoEZwL9cFXIE0DxvA38GhlwVMgDNshm4GliZhUAyAA1xCnDg//59I/CQq0UGoP76gHeAkXE/3w+sdfXIANTbXcCGCX4+AHxOHBiUDEANnTpu6D/eAuKg4ExXlQxA/Yb+7wLDk/zeRcAhV5cMQL3cDVwxxd/dlP2+ZABq4HTgxQ7/5hXgUledDED1h/7vAXM6/LsWcVBwkatQBqC67gPWdfm3J2URaLkaZQCqZwnw/DQf47vAQVelDED11uV7wOwcHute4E5XqQxAdTwAXJ7j4x0CLnS1ygCkbxmwN+fHHCROElrg6pUBSFc/8D7FXOJ7CvDH7DkkA5CgrcSBu6KsIy4ckgxAYs4Cnu3B8zwM/MzVLQOQ1tD/PWBWj57vMDGZiGQAEvAosLqHzzdEHBQ8zlUvA1Cuc4BdJTzv6cCneFBQBqDUof/7xNd0ZdgAPOdmkAEoxzZgVQKv4WY3hQxAb30beCaB19GXjUKWu0lkAHpjAPiAdKbvmgN8wTcnG5UMQAGeAC5I7DUtAz7JRgSSASjICuCpRF/bNYl8LJEBqKUZwEekPUnHTuA6N5UMQP6eJP0z8PqAj4FvublkAPKzEthRkdc6QhwUHHazyQBMXwv4MPsIUBXnEF8PelBQBmCadgDfqeDrvgnY7uaTAejeBdln/6raA/zAzSgD0LmZxAk/AxVehn7ioqEz3JwyAJ3ZSZzyW3XzicuHh9ykMgBTswp4vEbLcy7wjptVBmByg8QMP3W71v5WYkoxyQAcxS7qe3Xdfrq/XZkMQO1dQkzxVVf9xPTip7ipZQC+OfR/n/pPs7WAOCg46CaXAfif54jpvZvgQuKWY5IBIG7osbVhy3wncfNRqdEBmNWQof9EDgJrfPuryQHYR8yo00Qt4HPgZHcBA9BElxG3826yhVkEWg1a5vXApe72zQ7A7Gzo7wHQuLPRaw1Z1ouIb0E+BY510zc3APuAJW76r2wBNtd8GZcCfyUmTTkVeNfN3swArAXud7N/wyHKv9lJURYAf8/+2XYjfhPSuADMwdlyjqQF/Ak4oWbLNQT8JRsBjHeAuFjKADTEC8TNNTWxUeKg4IyaLE8/8Blw8RH++yDwe+KYkAGouSuAe9zHJ3U5ceFQ1fUBh4HrJ/m9s4A3DEC9DRMHfRz6T81W4PaKL8Ne4ozHqbi9BstrAI7iJeLIr6buTeC8ir72e+h8UtRDwJkGoH42AL9wf+7YEPGd+fEVe93X0915DXOy4wUzDUB9jGSfAx36d+c04qSZqlwrcXG2E3f7es/LRosGoCYOAIvdj6fl+8SJU6lbQXzdN90JUO8DbjAA1Xc1sMn9NxePAT9O+PWNAn/j6yf6dKuPmBdysQGornnA2w79c9NHnECV4lTpI9nOP5rjY84HPqEhl4nXMQAHc35DKE6W+SLb4VLRIg5UrijgsdcQk8QagIq5FrjD/bUQS4mDgim8Z9pD9fUFPsf2gh/fAOTsWOAt99NC/RB4JoHX8RtgY8HP0Z99FDjRAFTDq8BJ7qOFe5pyj5RvBx7s0XMtBD6ixseT6hKAG4Db3Dd7Nvz+kHLOnNtInObbSxuAbQYgXfOJU1fVOyPEQcG5PXzO9dnn/jL+b7yHuHmMAUjQ69lQTb11Nr2bX2EFccS/rPkLZxBnGc4zAGm5kbj5pcrxI+DJgp9jKfAPyv8K8jTi1HIDkIjjHfonYRdwVUGP3Z7Oa1Eiy3ozcLcBSMNvqd8UVlXUnnlnac6Pe7TpvMr0MsWcfGQAOizxLe57yZiXfUYfyunxJpvOq0yzgD/kuKwGoEMn0PBpnBK1gvwOCr7G5NN5lels4rwTA1CCQ1RvooqmuAV4ZJqPsYdqzN+4meLPRjQA4/wUuMn9LGkvAFd2+bf3AE9VaFnfoOL3l6xSABYS3/krbf3ERUOdzsPY7XReZRomphZvGYDeDP2Pc/+qhAV0dlBwutN5lel84EUDUKzbiJN+VK0d49AUfm8p+UznVaYHgesMQDEWAa+4P1XSzzn6lXujwD/JZzqvMrVnTRo1APl7i7jgR9W0H7hsgp+3p/Oqyz0bjqOCU4mlHoA7qjq00ldaxD0HR8f9rKjpvMp0ObDTAOTjZOK0S1XfiVkEWvRmOq8y7QDWVeXFDiT82g4T03ypHi4hrt/4DzU4geYo2lOJrQT+bQC6s4mY21/1cldDlvMkYtaka4AxPwJ0ZtShv2rgauKmKh4D6EAfcSvvEd8/qoFngVUGYOo2E5MwSnXQIk4VHjEAk1vs0F81dDoJ368ilQC0h/7Dvl9UQz8BthiAI/sl3V9CKlXBQWC5AZh4iLTf94dqbogEpxIrOwDtof8c3x9qgOXZSMAAZO4Fvuf7Qg2yJTsm0PgALCGmj5Ka5u3s/d/YAByTDf1n+15QA80lkanEygrAA8Ba3wdqsAuBfU0MwDLgObe/xMPEBUONCUA/cS24Q38pvgX7gLh6sBEB2AqscbtLXzmeEqcS62UAziSujpL0deuImYRqG4B+YtbUWW5raUI7iTkFaxmAR4DVbmPpqP+T/IQe3/ymFwE4G9jt9pUmNUocFOyrSwD6swUadNtKU3It8fVgLQLwKxKfEklK0D7iRKFKB2A58Gu3pdSx9lRic6sagIFs6D/TbSl1ZQnwZlUDsL1XQxipxm4lJsqtVABWAE+77aRcvEp8k1aJAMwg7ojScrtJuWhPJTarCgF4AjjPbSblPqp+OfUArASecltJhbgbuDnVALSIo/4z3E5SYQ4Ts2gnF4AdwLluH6lQ88h5KrE8AnBB9tlfUvFWkeNl9dMNwEziMl+H/lLvPEbcfrz0AOwkjlBK6p32VGKLygzAKmCb20IqxQnA75jmVGLdBmAmMbnngNtBKs164rT7ngdgNwne6VRqoF1MY6LdbgJwMfCo611KQnsqsfm9CMAgcfCh3/UuJWNx9pG8r+gAPAuc5fqWknMDcH+RAVgNPOR6lpL1EnB+EQGYRVzm69BfSld7KrHhvAOwl7ipp6S0LQPeyDMAa4AHXa9SZWwE7sgjALOJo/7HuE6lSnmdKRywn2zH3kvMTiqpWmZnxwMGuw3AWuAB16NUWecCB7oJwBy6PLFAUlLuBW7sNADPA2e47qRaeBc4daoBuCKrhqR6OBb4jAkm7hkfgGHgHYf+Uu2sBvZMFoD9wGmuK6mWtgEbjhSADcAW15FUW33AR8DC8QGYS8w57tBfqrcTgY/b+347AC8T1xRLqr8rgcfbAbgK2OQ6kRplN3DpAHBRNvyX1Czr+sbGxlwNUkN5lZ9kACQZAEkGQJIBkGQAJBkASQZAkgGQZAAkGQBJBkCSAZBkACQZAEkGQJIBkGQAJBkASQZAkgGQZAAkGQBJBkCSAZBkACQZAEkGQJIBkGQAJBkASQZAkgGQZAAkTeS/AwAWVAwGhj2vxgAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/brand_blue.0f7353a0.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARgAAAC+CAMAAADZYuD5AAACqVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////89FBW5AAAA43RSTlMAEzphiKq4xdLf7Pn68OXb0MGjhGRFJAESUZP/8b6JVB4MSozO/dmORAYDSKb2860FL43n6i1QyslTAlnT118EY+E8PRWg/h9p7uC5kmsgEBolMU1trNX1ahzD9717OQkNQHWuG+IHQtrvW/KfN5qXYAoLFizPTuM0zUtJaGL8ohGWP+Syp1hzZubpMh3LD8e6CLZX1sBnQbvd62wURovRj3K0nfSp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\"","module.exports = __webpack_public_path__ + \"static/media/music_placeholder.0ef4e888.svg\";"],"sourceRoot":""}